{"meta":{"title":"caiyonglong'blog","subtitle":"Talk is cheap. Show me the code.","description":"è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„æè¿°","author":"caiyonglong","url":"https://blog.musiclake.cn"},"pages":[{"title":"","date":"2022-05-05T09:56:06.612Z","updated":"2022-05-05T09:56:06.612Z","comments":true,"path":"resume/index.html","permalink":"https://blog.musiclake.cn/resume/index.html","excerpt":"","text":""},{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2022-05-05T09:56:06.441Z","updated":"2022-05-05T09:56:06.441Z","comments":false,"path":"/404.html","permalink":"https://blog.musiclake.cn/404.html","excerpt":"","text":".article-title { font-size: 2.1em; } strong a { color: #747474; } .share { display: none; } .player { margin-left: -10px; } .sign { text-align: right; font-style: italic; } #page-visit { display: none; } .center { text-align: center; height: 2.5em; font-weight: bold; } .search2 { height: 2.2em; font-size: 1em; width: 50%; margin: auto 24%; color: #727272; opacity: .6; border: 2px solid lightgray; } .search2:hover { opacity: 1; box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) }; .article-entry hr { margin: 0; } .pic { text-align: center; margin: 0; } .pic br { display: none; } å¾ˆæŠ±æ­‰ï¼Œæ‚¨æ‰€è®¿é—®çš„åœ°å€å¹¶ä¸å­˜åœ¨: å›ä¸»é¡µ Â· æ‰€æœ‰æ–‡ç«  Â· ç•™è¨€æ¿ å¯åœ¨è¾¹æ æœç´¢æ¡†ä¸­å¯¹æœ¬ç«™è¿›è¡Œæ£€ç´¢ï¼Œä»¥è·å–ç›¸å…³ä¿¡æ¯ã€‚ ä»¥ä¸‹æ˜¯åšä¸»å–œæ¬¢çš„ä¸€äº›æ­Œæ›²ï¼Œå¯ä»¥å¬å¬ï¼Œç¨ä½œä¼‘æ¯~"},{"title":"å…³äºæˆ‘","date":"2021-03-28T10:10:26.000Z","updated":"2022-05-05T09:56:06.453Z","comments":true,"path":"about/index.html","permalink":"https://blog.musiclake.cn/about/index.html","excerpt":"","text":"å…³äºæˆ‘94å¹´ï¼ŒAndroid å¼€å‘å·¥ç¨‹å¸ˆï¼Œç°åœ¨æ·±åœ³å·¥ä½œï¼Œå·¥ä½œå››å¹´ å…³äºæœ¬ç«™ä¸»è¦ç”¨äºè®°å½•æ—¥å¸¸å­¦ä¹ ï¼Œéšç¬”ï¼Œæ¬¢è¿ä¸æˆ‘äº¤æµï¼Œå…±åŒå­¦ä¹ è¿›æ­¥ã€‚ åšå®¢16å¹´åŸºäºHexoæ­å»ºï¼Œå¹³æ—¶åŸºæœ¬éƒ½æ˜¯å†™ä»£ç ï¼Œå¾ˆå°‘æ€»ç»“ï¼Œå†™åšå®¢ã€‚å·¥ä½œå‡ å¹´åæ‰å‘ç°ï¼Œé™¤äº†é¡¹ç›®ä»£ç ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœ‰ç•™ä¸‹ã€‚ åé¢å‘ç°è¿™ä¸ªåšå®¢å¾ˆä¹…æ²¡æœ‰ç»´æŠ¤æ›´æ–°ï¼ŒåŸºæœ¬éƒ½åºŸäº†ï¼Œæ‰€ä»¥æƒ³é‡æ–°ç»´æŠ¤èµ·æ¥ï¼Œè®°å½•ä¸€ä¸‹å½“å‰çš„å­¦ä¹ ï¼Œä¹Ÿå›é¡¾ä»¥å‰çš„é¡¹ç›®ï¼Œä¸ºåšå®¢æ·»åŠ ä¸€äº›å†…å®¹ã€‚ è”ç³»æ–¹å¼é‚®ç®±ï¼š&#x63;&#97;&#x69;&#121;&#x6f;&#x6e;&#x67;&#108;&#x6f;&#x6e;&#103;&#x40;&#108;&#x69;&#x76;&#101;&#x2e;&#x63;&#x6f;&#109;QQï¼š643872807 ä¸»è¦é¡¹ç›®æœ‰ éŸ³ä¹æ¹–-MusicLakeï¼šå¼€æºé¡¹ç›®ï¼Œç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œæ¬¢è¿issueã€PRã€‚ æš´èµ°På›¾ï¼šå·²åœ¨å„åº”ç”¨å•†åº—ä¸Šçº¿ï¼Œå¦‚éœ€ä½“éªŒï¼Œå¯å‰å¾€åº”ç”¨å•†åº—æœç´¢ä¸‹è½½ï¼Œæ¬¢è¿ææ„è§ã€‚"},{"title":"categories","date":"2016-06-04T17:24:39.000Z","updated":"2022-05-05T09:56:06.453Z","comments":false,"path":"categories/index.html","permalink":"https://blog.musiclake.cn/categories/index.html","excerpt":"","text":""},{"title":"ç›¸å†Œ","slug":"instagram","date":"2022-05-05T09:56:06.612Z","updated":"2022-05-05T09:56:06.612Z","comments":true,"path":"instagram/index.html","permalink":"https://blog.musiclake.cn/instagram/index.html","excerpt":"","text":"å›¾ç‰‡æ¥è‡ªinstagramï¼Œæ­£åœ¨åŠ è½½ä¸­â€¦"},{"title":"tags","date":"2018-04-23T16:39:22.000Z","updated":"2022-05-05T09:56:06.613Z","comments":false,"path":"tags/index.html","permalink":"https://blog.musiclake.cn/tags/index.html","excerpt":"","text":""},{"title":"è¯»ä¹¦","date":"2022-05-05T09:56:06.612Z","updated":"2022-05-05T09:56:06.612Z","comments":true,"path":"reading/index.html","permalink":"https://blog.musiclake.cn/reading/index.html","excerpt":"","text":""}],"posts":[{"title":"","slug":"uml/UMLä»‹ç»","date":"2022-05-05T09:56:06.448Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/0.html","link":"","permalink":"https://blog.musiclake.cn/posts/0.html","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"ReactNativeæºç åˆ†æ","slug":"æºç åˆ†æ/ReactNativeæºç åˆ†æ","date":"2021-05-06T10:15:00.000Z","updated":"2022-05-05T09:56:06.450Z","comments":true,"path":"posts/aa74f4e0.html","link":"","permalink":"https://blog.musiclake.cn/posts/aa74f4e0.html","excerpt":"","text":"å‰è¨€æœ€è¿‘ä¸€ä¸ªæœˆéƒ½åœ¨çœ‹RNçš„é—®é¢˜ï¼Œå› ä¸ºçº¿ä¸ŠRNåŒ…å‡ºç°ä¸€ä¸ªå¶ç°çš„å´©æºƒé—®é¢˜ï¼Œåœ¨react-native githubä¸Šä¹Ÿæ²¡äººå›å¤ã€‚æå¾—å¤´éƒ½å¤§äº†ï¼Œæ¯å¤©éƒ½æ˜¯æŸ¥åŸ‹ç‚¹ï¼ŒæŠ“æ—¥å¿—ã€‚æƒ³æ‰¾å‡ºä¸€ä¸ªå¤ç°çš„å…·ä½“æ­¥éª¤ï¼Œä½†æ˜¯æ ¹æ®åŸ‹ç‚¹å’Œæ—¥å¿—ä¿¡æ¯éƒ½æ²¡èƒ½å¤ç°å®šä½åˆ°çº¿ä¸Šå´©æºƒé—®é¢˜ã€‚æ‰€ä»¥æƒ³é€šè¿‡æºç é›†æˆçš„æ–¹å¼ï¼Œèƒ½åœ¨RN Androidæºç å±‚é¢åŠ ä¸€äº›æ—¥å¿—æ¥è¾…åŠ©å®šä½ã€‚éšä¾¿çœ‹çœ‹RNæºç æ˜¯æ€ä¹ˆå®ç°JSå’ŒAndroidä¹‹é—´çš„äº¤äº’å’Œé€šä¿¡çš„ ReactNativeæºç é›†æˆ1ã€ä¸‹è½½React-Nativeæºä»£ç  git clone https:&#x2F;&#x2F;github.com&#x2F;facebook&#x2F;react-native git tag v0.64.0 åˆ‡æ¢åˆ°å¯¹åº”ç‰ˆæœ¬ï¼Œreact-nativeæ˜¯é€šè¿‡git tagæ¥åŒºåˆ†ç‰ˆæœ¬çš„ã€‚æ‰€ä»¥ä»£ç æ‹‰å–å®Œæˆåéœ€è¦é€šè¿‡git tagæ¥åˆ‡æ¢åˆ°å¯¹åº”çš„ç‰ˆæœ¬ä¸Šã€‚æœ¬æ–‡æ˜¯åŸºäº0.64ç‰ˆæœ¬ 2ã€npmå®‰è£…ç¯å¢ƒ åœ¨react-nativeæ ¹ç›®å½•ä¸‹ï¼Œé€šè¿‡npmå®‰è£…ä¾èµ– npm install 3ã€é€šè¿‡Android Studioæ‰“å¼€react-native/ReactAndroidã€‚ç¼–è¯‘å³å¯ react-nativeå®˜ç½‘ä¸Šå…·ä½“çš„é›†æˆæ–¹å¼ï¼šä»æºä»£ç ç¼–è¯‘React Native React-Nativeæºç åˆ†æä¸»è¦åˆ†æReactNativeçš„å¯åŠ¨æµç¨‹ã€Androidç«¯çš„æ¸²æŸ“åŸç†ã€é€šä¿¡æœºåˆ¶ç­‰æ–¹é¢ ReactNativeçš„å¯åŠ¨æµç¨‹ æ¸²æŸ“åŸç† é€šä¿¡æœºåˆ¶","categories":[],"tags":[{"name":"ReactNative","slug":"ReactNative","permalink":"https://blog.musiclake.cn/tags/ReactNative/"}],"keywords":[]},{"title":"è‡ªåŠ¨åŒ–æ‰“åŒ…","slug":"è‡ªåŠ¨åŒ–æ‰“åŒ…/jenkins","date":"2021-03-31T15:35:00.000Z","updated":"2022-05-05T09:56:06.450Z","comments":true,"path":"posts/aa1fa5ba.html","link":"","permalink":"https://blog.musiclake.cn/posts/aa1fa5ba.html","excerpt":"","text":"å‰è¨€åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘æ‰“åŒ…æ˜¯å¿…ä¸å¯å°‘çš„æµç¨‹ï¼Œç‰¹åˆ«æ˜¯å¼€å‘è½¬æµ‹è¯•é˜¶æ®µã€‚","categories":[],"tags":[],"keywords":[]},{"title":"LeakCanary é›†æˆå’ŒåŸç†åˆ†æ","slug":"LeakCanary/LeakCanary","date":"2021-03-30T14:35:00.000Z","updated":"2022-05-05T09:56:06.445Z","comments":true,"path":"posts/LeakCanary.html","link":"","permalink":"https://blog.musiclake.cn/posts/LeakCanary.html","excerpt":"","text":"æœ€è¿‘çœ‹åˆ°é¡¹ç›®ä¸­ç”¨åˆ°çš„LeakCanaryç‰ˆæœ¬è¿˜æ˜¯1.6.3ç‰ˆæœ¬ï¼Œæ‰€ä»¥æƒ³å‡çº§ä¸€ä¸‹ã€‚çœ‹åˆ°LeakCanaryçš„å®˜æ–¹æ–‡æ¡£ï¼Œæœ€æ–°ç‰ˆå·²ç»æ˜¯2.7äº†ï¼Œæ‰€ä»¥æƒ³è®°å½•ä¸€ä¸‹ä»¥åŠåˆ†æä¸€ä¸‹æ–°ç‰ˆçš„åŸç† ä»‹ç»LeakCanaryæ˜¯é€‚ç”¨äºAndroidçš„å†…å­˜æ³„æ¼æ£€æµ‹åº“ã€‚ å®˜æ–¹è§£é‡Šï¼š LeakCanaryâ€™s knowledge of the internals of the Android Framework gives it a unique ability to narrow down the cause of each leak, helping developers dramatically reduce OutOfMemoryError crashes. LeakCanaryå¯ä»¥å¸®å¿™å®šä½å†…å­˜æ³„æ¼é—®é¢˜ï¼Œä»è€Œå¸®åŠ©å¼€å‘äººå‘˜å¤§å¤§å‡å°‘OutOfMemoryErrorå´©æºƒã€‚ é›†æˆåˆ°é¡¹ç›®ä¸­åï¼Œä¸€èˆ¬æ˜¯æµ‹è¯•åŒ…å’Œå¼€å‘åŒ…ä¼šç”¨åˆ°ï¼Œç”Ÿäº§åŒ…ä¸éœ€è¦ä¾èµ–ã€‚ é›†æˆåœ¨app/build.gradle æ·»åŠ ä¸€ä¸‹ä¾èµ– dependencies &#123; // debugImplementation because LeakCanary should only run in debug builds. debugImplementation &#x27;com.squareup.leakcanary:leakcanary-android:2.7&#x27; &#125; å¯ä»¥åœ¨ Logcat é‡Œé¢é€šè¿‡è¿‡æ»¤æœç´¢ LeakCanaryï¼Œæ¥åˆ¤æ–­LeakCanaryæ˜¯å¦è¿è¡Œ LeakCanary: LeakCanary is running and ready to detect leaks 1.6.ç‰ˆæœ¬å’Œ2.0ç‰ˆæœ¬å·®åˆ«å¯¹æ¯”å¯¹æ¯”è€ç‰ˆæœ¬1.6.3å’Œæ–°ç‰ˆæœ¬ 2.7ã€‚ä¸»è¦çš„æ›´æ–°ç‚¹å¦‚ä¸‹ï¼ˆå®˜æ–¹æ–‡æ¡£æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåªå†™ä¸€ä¸‹ä¸»è¦çš„ç‚¹ï¼‰ï¼š é›†æˆæ›´åŠ æ–¹ä¾¿ï¼ŒåŸæ¥éœ€è¦ä¸€æ¬¡é›†æˆå¤šä¸ªä¾èµ–åº“ï¼Œæ–°ç‰ˆåªéœ€è¦é›†æˆä¸€ä¸ªä¾èµ– å†…å­˜æ³„æ¼æ”¯æŒåˆ†ç»„ï¼Œç›¸åŒçš„å†…å­˜æ³„æ¼ä¼šè‡ªåŠ¨åˆ†ä¸ºä¸€ç±»ï¼Œæ–¹ä¾¿æŸ¥çœ‹ ä½¿ç”¨Kotliné‡å†™ æ–°çš„å †è§£æå™¨ï¼Œæ¯”æ—§ç‰ˆå‡å°‘äº†90%å†…å­˜ï¼Œé€Ÿåº¦å¿«äº†6å€ã€‚ä¸ªäººä½“éªŒç¡®å®æ¯”1.6.3ç‰ˆæœ¬å¿«äº†å¾ˆå¤š åŸç†åˆ†ææœªå®Œå¾…ç»­â€¦","categories":[{"name":"å†…å­˜ä¼˜åŒ–","slug":"å†…å­˜ä¼˜åŒ–","permalink":"https://blog.musiclake.cn/categories/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/"}],"tags":[],"keywords":[{"name":"å†…å­˜ä¼˜åŒ–","slug":"å†…å­˜ä¼˜åŒ–","permalink":"https://blog.musiclake.cn/categories/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/"}]},{"title":"éŸ³ä¹æ¹–ç¯å¢ƒéƒ¨ç½²","slug":"project/musiclake_build","date":"2021-03-29T10:21:16.000Z","updated":"2022-05-05T09:56:06.447Z","comments":true,"path":"posts/musicLakeBuild.html","link":"","permalink":"https://blog.musiclake.cn/posts/musicLakeBuild.html","excerpt":"","text":"éŸ³ä¹æ¹–ç¯å¢ƒéƒ¨ç½²éŸ³ä¹æ¹–é¡¹ç›®ä¸»è¦åŒ…å«äº†Androidç«¯ï¼ŒPCç«¯ï¼Œå¾®ä¿¡å°ç¨‹åºç«¯ï¼Œæ­Œå•æœåŠ¡å™¨ç­‰å‡ ä¸ªé¡¹ç›®ï¼Œå…·ä½“é¡¹ç›®åœ°å€å¦‚ä¸‹ï¼š Androidå®¢æˆ·ç«¯ MusicLakePCç«¯ musicäº‘æ­Œå•æœåŠ¡å™¨ play-beéŸ³ä¹è§£æ Api å‰è¨€å› ä¸ºæ¶‰åŠéŸ³ä¹ç‰ˆæƒé—®é¢˜ï¼Œè¢«å®˜æ–¹è­¦å‘Šäº†ã€‚æ‰€ä»¥æˆ‘ä»¬å°±ä¸å†æä¾›å¯ç”¨çš„åº”ç”¨ä»¥åŠæ¥å£APIäº†ï¼Œç›®å‰ä¸»è¦åå‘äºå­¦ä¹ ç ”ç©¶ã€‚åœ¨ç¾¤é‡Œä¹Ÿæœ‰äººåé¦ˆçœ‹ä¸æ‡‚READMEï¼Œéƒ¨ç½²æ¯”è¾ƒå›°éš¾ï¼Œçœ‹åˆ°åˆ«äººçš„éƒ¨ç½²åšå®¢ï¼Œéå¸¸è¯¦ç»†ï¼Œéå¸¸å¥½ï¼Œæ‰€ä»¥ä½œä¸ºå¼€å‘è€…çš„æˆ‘ä»¬ä¹Ÿåº”è¯¥å†™ä¸€ç¯‡æ¥è®°å½•è®°å½•ã€‚å¦‚æœåªæ˜¯æƒ³ç”¨å•çº¯çš„ä½¿ç”¨éŸ³ä¹æ¹–è½¯ä»¶å¬æ­Œï¼Œä¸å»ºè®®æ­å»ºè¿™ä¸€å¥—ç¯å¢ƒä½“ç³»ã€‚ é¡¹ç›®ä»‹ç»æœ¬é¡¹ç›®é‡‡ç”¨CSæ¶æ„ï¼Œå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å¼ï¼Œæ­å»ºéƒ¨ç½²æ•´ä¸ªéŸ³ä¹æ’­æ”¾æœåŠ¡ã€‚ å®¢æˆ·ç«¯ï¼šMusicLakeã€PCå®¢æˆ·ç«¯æœåŠ¡å™¨ï¼šplay-beï¼ˆç™»å½•ã€äº‘æ­Œå•ï¼‰ã€NeteaseMusicApiï¼ˆç½‘æ˜“äº‘éŸ³ä¹apiï¼‰ äº‘æ­Œå•æœåŠ¡å™¨éƒ¨ç½²äº‘æ­Œå•æœåŠ¡å™¨ play-be å¼€å‘cp config/default.js config/local.jsä¿®æ”¹config/local.jsç›¸åº”é…ç½®npm installnpm run start éƒ¨ç½² cp config/default.js config/local.js ä¿®æ”¹config/local.jsç›¸åº”é…ç½® ä»¥ä¸‹ä¸‰ç§æ–¹å¼ä»»é€‰ä¸€docker-compose up -d # Docker Composeï¼ˆRecommendedï¼‰ pm2 start pm2.production.json # PM2, daemon run npm run start # Just run it PCå®¢æˆ·ç«¯éƒ¨ç½²å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨ä½“éªŒï¼Œgithub æ”¯æŒworkflowéƒ¨ç½²ï¼Œreleaseä¸‹æœ‰æ‰“åŒ…å¥½çš„ç”ŸæˆåŒ…ï¼Œå¯ä»¥ç›´æ¥é€‰æ‹©å¯¹åº”çš„å®¢æˆ·ç«¯ä¸‹è½½å®‰è£…å³å¯ã€‚ ä¹Ÿå¯ä»¥è‡ªå·±æ‰“åŒ… æ‰“åŒ…ç¯å¢ƒè¦æ±‚ nodejs v12.1.0 ç‰ˆæœ¬åŠä»¥ä¸Š yarn æ‰“åŒ…yarn run build æ›´å¤šè¯·è§ github Androidå®¢æˆ·ç«¯éƒ¨ç½²æœªå®Œå¾…ç»­â€¦ Githubç™»å½•æœåŠ¡é…ç½®æœªå®Œå¾…ç»­â€¦ QQç™»å½•é…ç½®è¿™ä¸ªéœ€è¦å¤‡æ¡ˆçš„åŸŸåï¼Œæ‰èƒ½ä½¿ç”¨ã€‚å»ºè®®æ¨èGithubç™»å½•é…ç½®","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"MusicLake","slug":"MusicLake","permalink":"https://blog.musiclake.cn/tags/MusicLake/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"éŸ³ä¹æ¹–ï¼ˆMusicLakeï¼‰é¡¹ç›®ä»‹ç»","slug":"project/musiclake_introduce","date":"2021-03-29T10:21:16.000Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/musicLake.html","link":"","permalink":"https://blog.musiclake.cn/posts/musicLake.html","excerpt":"","text":"MusicLake MediaPlayerã€ExoPlayeréŸ³ä¹åº“å°è£… ç¼–è¯‘&amp;æœåŠ¡å™¨éƒ¨ç½² build.md åŠŸèƒ½ç‰ˆæœ¬ Android éŸ³ä¹æ’­æ”¾å™¨(æœ¬åœ°/åœ¨çº¿æ’­æ”¾) ï¼ˆæœ€ä½æ”¯æŒAndroidç‰ˆæœ¬5.0ï¼‰ æ”¯æŒå¤šå¹³å°éŸ³ä¹æºï¼Œç™¾åº¦éŸ³ä¹ï¼Œè™¾ç±³éŸ³ä¹ã€ç½‘æ˜“äº‘éŸ³ä¹ã€Youtubeï¼ˆéœ€è¦ç¿»å¢™ï¼‰ æ­Œè¯æ’­æ”¾ã€æ¡Œé¢æ­Œè¯ã€æ¡Œé¢å°æ§ä»¶ é€šçŸ¥æ æ§åˆ¶ã€çº¿æ§æ’­æ”¾ã€éŸ³é¢‘ç„¦ç‚¹æ§åˆ¶ QQç™»å½•ã€å¾®åšç™»é™†ã€åœ¨çº¿æ­Œå•åŒæ­¥ ç½‘æ˜“äº‘çƒ­é—¨æ­Œæ‰‹ï¼Œç™¾åº¦ç”µå°åˆ—è¡¨ï¼Œç½‘æ˜“äº‘mvæ’è¡Œæ¦œï¼Œmvæ’­æ”¾è¯„è®º é…·ç‹—æ­Œè¯æœç´¢ã€ä¿®æ”¹æ­Œè¯æ ·å¼ã€æ­Œè¯ç¿»è¯‘ PCç«¯ å¼€æºä¸æ˜“ï¼Œæœ‰å…´è¶£å¯ç»™ä¸ªstarï¼Œæ”¯æŒä¸€ä¸‹å“¦ï¼ ç¾¤èŠå·²ç»è§£æ•£ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å¯ä»¥æissuesï¼ï¼Œæœ‰æƒ³æ³•å¯ä»¥æPRã€‚æ„Ÿè°¢å…³æ³¨ğŸ™ ç›¸å…³é¡¹ç›®|éŸ³ä¹API å®¢æˆ·ç«¯éŸ³ä¹API å®¢æˆ·ç«¯/PCéŸ³ä¹å…±ç”¨API åå°/äº‘æ­Œå•API ä¸‰æ–¹/NeteaseCloudMusicApi ç¬¬ä¸‰æ–¹åº“ rxjava retrofit dagger2 Glide LitePal DSBridge BaseRecyclerViewAdapterHelper More.. æˆªå›¾ ä¸»è¦åŠŸèƒ½æˆªå›¾ å¤œé—´æ¨¡å¼ç›¸å…³æˆªå›¾","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"MusicLake","slug":"MusicLake","permalink":"https://blog.musiclake.cn/tags/MusicLake/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"å¸¸ç”¨è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/designModel","date":"2021-03-25T13:55:03.000Z","updated":"2022-05-05T09:56:06.451Z","comments":true,"path":"posts/1e80ad29.html","link":"","permalink":"https://blog.musiclake.cn/posts/1e80ad29.html","excerpt":"","text":"ä¸ºä»€ä¹ˆå­¦ä¹ è®¾è®¡æ¨¡å¼è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚ è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚ æ¯«æ— ç–‘é—®ï¼Œè®¾è®¡æ¨¡å¼äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œè®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚é¡¹ç›®ä¸­åˆç†åœ°è¿ç”¨è®¾è®¡æ¨¡å¼å¯ä»¥å®Œç¾åœ°è§£å†³å¾ˆå¤šé—®é¢˜ï¼Œæ¯ç§æ¨¡å¼åœ¨ç°å®ä¸­éƒ½æœ‰ç›¸åº”çš„åŸç†æ¥ä¸ä¹‹å¯¹åº”ï¼Œæ¯ç§æ¨¡å¼éƒ½æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ï¼Œä»¥åŠè¯¥é—®é¢˜çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡æ¨¡å¼èƒ½è¢«å¹¿æ³›åº”ç”¨çš„åŸå› ã€‚ ä»¥ä¸Šéƒ½æ˜¯å®˜æ–¹å¥—è¯ï¼Œåœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°å„ç§ä»£ç è®¾è®¡é—®é¢˜ï¼Œæ¯”å¦‚æŠ±æ€¨åˆ«äººå†™çš„ä»£ç å¯è¯»æ€§ï¼Œå¯ç»´æŠ¤æ€§å¾ˆå·®ï¼Œè™½ç„¶æœ€ç»ˆéƒ½å®ç°äº†åŠŸèƒ½ï¼Œä½†æ˜¯ä»£ç è´¨é‡ä¸é«˜ï¼Œéšç€æ–°éœ€æ±‚çš„ä¸æ–­è°ƒæ•´ï¼Œåªèƒ½ç»§ç»­æ—§ä»£ç åŸºç¡€ä¸Šå†™ä»£ç ï¼Œæœ€åè¶Šå†™è¶Šéš¾å—ï¼Œå¤æ‚çš„ä»£ç ï¼Œè‡ªå·±éƒ½çœ‹ä¸æ‡‚ã€‚æ‰€ä»¥å¦‚æœæœ‰ä¸ªä»€ä¹ˆæ–¹å¼èƒ½å¤Ÿè®©æˆ‘ä»¬å†™å‡ºå¯ç»´æŠ¤ã€å¯å¤ç”¨ã€å¯æ‰©å±•åŠçµæ´»çš„ä»£ç ã€‚ è®¾è®¡æ¨¡å¼æœ‰ä»€ä¹ˆä½œç”¨æœ‰åŠ©äºé¡¹ç›®æ¶æ„è®¾è®¡ï¼Œæé«˜é¡¹ç›®ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™ å¼€é—­åŸåˆ™ å¼€é—­åŸåˆ™çš„æ„æ€æ˜¯ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨ç¨‹åºéœ€è¦è¿›è¡Œæ‹“å±•çš„æ—¶å€™ï¼Œä¸èƒ½å»ä¿®æ”¹åŸæœ‰çš„ä»£ç ï¼Œå®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚ç®€è¨€ä¹‹ï¼Œæ˜¯ä¸ºäº†ä½¿ç¨‹åºçš„æ‰©å±•æ€§å¥½ï¼Œæ˜“äºç»´æŠ¤å’Œå‡çº§ã€‚æƒ³è¦è¾¾åˆ°è¿™æ ·çš„æ•ˆæœï¼Œéœ€è¦ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»ã€‚ é‡Œå¼ä»£æ¢åŸåˆ™ é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯é¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ä¹‹ä¸€ã€‚ é‡Œæ°ä»£æ¢åŸåˆ™ä¸­è¯´ï¼Œä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚LSP æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“æ´¾ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œä¸”è½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œæ´¾ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å¼€é—­åŸåˆ™çš„è¡¥å……ã€‚å®ç°å¼€é—­åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ï¼Œè€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚ ä¾èµ–å€’è½¬åŸåˆ™ è¿™ä¸ªåŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„åŸºç¡€ï¼Œå…·ä½“å†…å®¹ï¼šé’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚ æ¥å£éš”ç¦»åŸåˆ™ è¿™ä¸ªåŸåˆ™çš„æ„æ€æ˜¯ï¼šä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚å®ƒè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ„æ€æ˜¯ï¼šé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ç”±æ­¤å¯è§ï¼Œå…¶å®è®¾è®¡æ¨¡å¼å°±æ˜¯ä»å¤§å‹è½¯ä»¶æ¶æ„å‡ºå‘ã€ä¾¿äºå‡çº§å’Œç»´æŠ¤çš„è½¯ä»¶è®¾è®¡æ€æƒ³ï¼Œå®ƒå¼ºè°ƒé™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚ è¿ªç±³ç‰¹æ³•åˆ™ï¼Œåˆç§°æœ€å°‘çŸ¥é“è¿œç€ æœ€å°‘çŸ¥é“åŸåˆ™æ˜¯æŒ‡ï¼šä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚ åˆæˆå¤ç”¨åŸåˆ™ åˆæˆå¤ç”¨åŸåˆ™æ˜¯æŒ‡ï¼šå°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚ è®¾è®¡æ¨¡å¼æœ‰å¤šå°‘ç§æ€»å…±æœ‰23ç§è®¾è®¡æ¨¡å¼ï¼Œè¿™äº›è®¾è®¡æ¨¡å¼å¯åˆ†ä¸ºä¸‰ç±»ï¼Œåˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰ã€ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰ã€è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰ åˆ›å»ºå‹æ¨¡å¼è¿™äº›è®¾è®¡æ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ new è¿ç®—ç¬¦ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ã€‚è¿™ä½¿å¾—ç¨‹åºåœ¨åˆ¤æ–­é’ˆå¯¹æŸä¸ªç»™å®šå®ä¾‹éœ€è¦åˆ›å»ºå“ªäº›å¯¹è±¡æ—¶æ›´åŠ çµæ´»ã€‚ å·¥å‚æ¨¡å¼ æŠ½è±¡å·¥å‚æ¨¡å¼ å»ºé€ è€…æ¨¡å¼ å•ä¾‹æ¨¡å¼ åŸå‹æ¨¡å¼ ç»“æ„å‹æ¨¡å¼è¿™äº›è®¾è®¡æ¨¡å¼å…³æ³¨ç±»å’Œå¯¹è±¡çš„ç»„åˆã€‚ç»§æ‰¿çš„æ¦‚å¿µè¢«ç”¨æ¥ç»„åˆæ¥å£å’Œå®šä¹‰ç»„åˆå¯¹è±¡è·å¾—æ–°åŠŸèƒ½çš„æ–¹å¼ã€‚ é€‚é…å™¨æ¨¡å¼ æ¡¥æ¥æ¨¡å¼ ç»„åˆæ¨¡å¼ è£…é¥°å™¨æ¨¡å¼ å¤–è§‚æ¨¡å¼ äº«å…ƒæ¨¡å¼ ä»£ç†æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼è¿™äº›è®¾è®¡æ¨¡å¼ç‰¹åˆ«å…³æ³¨å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚ è´£ä»»é“¾æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ å‘½ä»¤æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ çŠ¶æ€æ¨¡å¼ ç­–ç•¥æ¨¡å¼","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"ã€RNã€‘RNå·¥ç¨‹åŒ–æ¶æ„-redux","slug":"react-native-test","date":"2020-09-08T01:57:17.000Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/854d3cbf.html","link":"","permalink":"https://blog.musiclake.cn/posts/854d3cbf.html","excerpt":"","text":"å‰è¨€å¯¹äºRNå®˜ç½‘ä¸Šä»‹ç»çš„RNä»£ç ç¤ºä¾‹ï¼Œéƒ½æ˜¯ä¸€äº›å•ç•Œé¢çš„ç¤ºä¾‹ï¼Œä½†æ˜¯åœ¨å®é™…é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿™äº›è¿œè¿œä¸èƒ½æ»¡è¶³è´Ÿè´£çš„ä¸šåŠ¡é€»è¾‘ï¼Œè·Ÿä¸ä¸Šé¡¹ç›®è¿­ä»£é€Ÿåº¦ Reduxä»‹ç»Reduxåœ¨React Nativeä¸­çš„ä½¿ç”¨é¡¹ç›®çº§æ¶æ„","categories":[],"tags":[{"name":"RN","slug":"RN","permalink":"https://blog.musiclake.cn/tags/RN/"},{"name":"è·¨å¹³å°","slug":"è·¨å¹³å°","permalink":"https://blog.musiclake.cn/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/"}],"keywords":[]},{"title":"Androidäº‹ä»¶åˆ†å‘æœºåˆ¶","slug":"interview/äº‹ä»¶åˆ†å‘æœºåˆ¶","date":"2019-09-22T04:12:01.000Z","updated":"2022-05-05T09:56:06.447Z","comments":true,"path":"posts/7bbb2ea5.html","link":"","permalink":"https://blog.musiclake.cn/posts/7bbb2ea5.html","excerpt":"","text":"å‰è¨€è¿™æ˜¯å¾ˆå¸¸è§çš„é¢è¯•é¢˜ï¼Œå‡ ä¹æ¯æ¬¡é¢è¯•éƒ½ä¼šé—®åˆ°ï¼Œæ¯æ¬¡é—®çš„åŒºåˆ«å°±æ˜¯é—®çš„æ·±åº¦ä¸ä¸€æ ·ã€‚è™½ç„¶ç½‘ä¸Šæœ‰å¾ˆå¤šé¢ç»ï¼Œå¾ˆå¤šæ€»ç»“ï¼Œä½†æ˜¯è‡ªå·±è¿˜æ˜¯æƒ³èŠ±ç‚¹æ—¶é—´æ¥æ€»ç»“ä¸€ä¸‹ï¼ŒåŠ æ·±å°è±¡ã€‚ å¸¸è§é¢è¯•é—®é¢˜ è¯´ä¸€ä¸‹Androidäº‹ä»¶åˆ†å‘çš„æµç¨‹ åˆ†å‘ã€æ‹¦æˆªæ–¹æ³•å’ŒTouch_Downã€Touch_Moveã€Touch_Up çš„æ‰§è¡Œé¡ºåº äº‹ä»¶åˆ†å‘åŸºæœ¬æ¦‚å¿µActivity -&gt; ViewGroup -&gt;View dispatchTouchEvent åˆ†å‘ onInterceptTouchEvent æ‹¦æˆª View æ²¡æœ‰æ‹¦æˆªäº‹ä»¶","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"https://blog.musiclake.cn/tags/%E9%9D%A2%E8%AF%95/"},{"name":"dasd","slug":"dasd","permalink":"https://blog.musiclake.cn/tags/dasd/"}],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"Activityçš„å¯åŠ¨æµç¨‹","slug":"æºç åˆ†æ/Activityçš„å¯åŠ¨æµç¨‹","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/3f706ac0.html","link":"","permalink":"https://blog.musiclake.cn/posts/3f706ac0.html","excerpt":"","text":"å‰è¨€Ativityçš„å¯åŠ¨æµç¨‹ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ† ä»æ¡Œé¢Launcherç‚¹å‡»å°å›¾æ ‡ï¼Œå¯åŠ¨åº”æ‰“å¼€ä¸»Activity åº”ç”¨å†…startActivityå¯åŠ¨å…¶ä»–Activity","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“æºç åˆ†æâ€”â€”EventBus","slug":"æºç åˆ†æ/EventBus","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/6ba9cd28.html","link":"","permalink":"https://blog.musiclake.cn/posts/6ba9cd28.html","excerpt":"","text":"å‰è¨€EventBusæ˜¯é€‚ç”¨äºAndroidå’ŒJavaçš„å‘å¸ƒ/è®¢é˜…äº‹ä»¶æ€»çº¿ã€‚ 1ã€å®šä¹‰äº‹ä»¶2ã€å‡†å¤‡è®¢é˜…è€…ï¼Œå£°æ˜å¹¶æ³¨é‡Šè®¢é˜…æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šçº¿ç¨‹æ¨¡å¼æ³¨å†Œå’Œæ³¨é”€è®¢é˜…è€…3ã€å‘é€äº‹ä»¶ æºç åˆ†ææ³¨å†Œæ–¹æ³•ï¼ŒEventbuså®ä¾‹æ³¨å†Œè®¢é˜…è€…äº‹ä»¶ public void register(Object subscriber) &#123; //è·å–æ³¨å†Œçš„å¯¹è±¡çš„ç±»å‹ Class&lt;?&gt; subscriberClass = subscriber.getClass(); //æŸ¥æ‰¾å¹¶è·å–æ³¨å†Œçš„å¯¹è±¡çš„è®¢é˜…æ–¹æ³• List&lt;SubscriberMethod&gt; subscriberMethods = subscriberMethodFinder.findSubscriberMethods(subscriberClass); //åŠ é”ï¼Œåœ¨åŒæ­¥é”ä¸­è®¢é˜…æ–¹æ³• synchronized (this) &#123; for (SubscriberMethod subscriberMethod : subscriberMethods) &#123; //å¯¹è®¢é˜…æ–¹æ³•è¿›è¡Œæ³¨å†Œ subscribe(subscriber, subscriberMethod); &#125; &#125; &#125; æŸ¥æ‰¾è®¢é˜…è€…çš„è®¢é˜…æ–¹æ³•ï¼ŒMETHOD_CACHEæ–¹æ³•ç¼“å­˜ï¼Œä½¿ç”¨ConcurrentHashMapå­˜å‚¨ List&lt;SubscriberMethod&gt; findSubscriberMethods(Class&lt;?&gt; subscriberClass) &#123; //ä»ç¼“å­˜ä¸­è·å–è®¢é˜…æ–¹æ³• List&lt;SubscriberMethod&gt; subscriberMethods = METHOD_CACHE.get(subscriberClass); if (subscriberMethods != null) &#123; return subscriberMethods; &#125; //å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰ï¼Œåˆ™æ˜¯å¦å¼ºåˆ¶ä½¿ç”¨åå°„è¿˜æ˜¯ä½¿ç”¨ç´¢å¼•è·å–è®¢é˜…æ–¹æ³• if (ignoreGeneratedIndex) &#123; subscriberMethods = findUsingReflection(subscriberClass); &#125; else &#123; subscriberMethods = findUsingInfo(subscriberClass); &#125; if (subscriberMethods.isEmpty()) &#123; throw new EventBusException(&quot;Subscriber &quot; + subscriberClass + &quot; and its super classes have no public methods with the @Subscribe annotation&quot;); &#125; else &#123; METHOD_CACHE.put(subscriberClass, subscriberMethods); return subscriberMethods; &#125; &#125;","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Eventbus","slug":"Eventbus","permalink":"https://blog.musiclake.cn/tags/Eventbus/"}],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“æºç åˆ†æâ€”â€”Glide","slug":"æºç åˆ†æ/Glideæºç åˆ†æ","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/a7a0829e.html","link":"","permalink":"https://blog.musiclake.cn/posts/a7a0829e.html","excerpt":"","text":"","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Glide","slug":"Glide","permalink":"https://blog.musiclake.cn/tags/Glide/"}],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"Handleræ¶ˆæ¯æœºåˆ¶","slug":"æºç åˆ†æ/Handeræ¶ˆæ¯æœºåˆ¶","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/c6dbe339.html","link":"","permalink":"https://blog.musiclake.cn/posts/c6dbe339.html","excerpt":"","text":"å‰è¨€å¹³æ—¶å·¥ä½œä¸­ç¼ºä¹æ€»ç»“ï¼Œå†™åšå®¢ä¸æ˜¯ä¸ºåˆ«äººï¼Œè€Œæ˜¯ä¸ºè‡ªå·±ï¼Œè™½ç„¶ç½‘ä¸Šå¾ˆå¤šç±»ä¼¼çš„ï¼Œä½†æ˜¯è‡ªå·±è¿˜æ˜¯å¾—å†™ä¸€éåŠ æ·±å°è±¡ åŸºæœ¬åŸç†æ¶ˆæ¯æœºåˆ¶åŒ…å« Handlerã€MessageQueueã€Messageã€Looper æ‹–æ¬ å›¾ Handler å‘é€æ¶ˆæ¯ï¼Œæ¶ˆæ¯å­˜å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç„¶åLooper å¾ªç¯æ‰§è¡Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚ é—®é¢˜Handler ä¸ºä»€ä¹ˆä¼šé€ æˆå†…å­˜æ³„æ¼å› ä¸ºåœ¨Activityä¸­ï¼Œhandlerå†…éƒ¨ç±»å¼•ç”¨äº†å®ƒï¼Œè€Œè¯¥handlerå®ä¾‹å¯èƒ½è¢«MessageQueueå¼•ç”¨ç€ã€‚æ¯”å¦‚å‘é€äº†ä¸€ä¸ªå»¶æ—¶æ¶ˆæ¯åˆ°é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆå°±å¯èƒ½åœ¨é˜Ÿåˆ—ä¸­å­˜åœ¨å¾ˆé•¿æ—¶é—´ï¼Œè€Œæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMessageQueueï¼‰çš„ç”Ÿå‘½å‘¨æœŸç­‰äºå®ƒæ‰€åœ¨çš„çº¿ç¨‹ã€‚å½“å¤§åˆ°Activityè¢«finish()äº†åè¿˜åœ¨é˜Ÿåˆ—ä¸­æ—¶ï¼Œå°±æ»¡è¶³äº†ä¸Šé¢çš„çŸ­ç”Ÿå‘½å‘¨æœŸå¼•ç”¨é•¿ç”Ÿå‘½å‘¨æœŸçš„æ¡ä»¶ã€‚æ ¹æ®Java GCçš„è§„åˆ™ï¼ŒActivityçš„å¼•ç”¨è®¡æ•°ä¸ä¸º0ï¼Œæ•…ä¸ä¼šå›æ”¶ è§£å†³åŠæ³• 1ã€ä¿è¯Activityè¢«finish()æ—¶è¯¥çº¿ç¨‹çš„æ¶ˆæ¯é˜Ÿåˆ—æ²¡æœ‰è¿™ä¸ªActivityçš„handlerå†…éƒ¨ç±»çš„å¼•ç”¨ 2ã€è¦ä¹ˆè®©è¿™ä¸ªhandlerä¸æŒæœ‰Activityç­‰å¤–éƒ¨ç»„ä»¶å®ä¾‹ï¼Œè®©è¯¥Handleræˆä¸ºé™æ€å†…éƒ¨ç±»ã€‚ï¼ˆé™æ€å†…éƒ¨ç±»æ˜¯ä¸æŒæœ‰å¤–éƒ¨ç±»çš„å®ä¾‹çš„ï¼Œå› è€Œä¹Ÿå°±è°ƒç”¨ä¸äº†å¤–éƒ¨çš„å®ä¾‹æ–¹æ³•äº†ï¼‰ 3ã€åœ¨2æ–¹æ³•çš„åŸºç¡€ä¸Šï¼Œä¸ºäº†èƒ½è°ƒç”¨å¤–éƒ¨çš„å®ä¾‹æ–¹æ³•ï¼Œä¼ é€’ä¸€ä¸ªå¤–éƒ¨çš„å¼±å¼•ç”¨è¿›æ¥ ä¸ºä»€ä¹ˆæ¶ˆæ¯Handlerèƒ½å®ç°è·¨çº¿ç¨‹é€šä¿¡ä¸ºä»€ä¹ˆLooperå¾ªç¯ä¸ä¼šå¯¼è‡´ANRANRçš„åŸºæœ¬æ¦‚å¿µ 1ï¼š5så†…æ— æ³•å“åº”ç”¨æˆ·è¾“å…¥äº‹ä»¶(ä¾‹å¦‚é”®ç›˜è¾“å…¥, è§¦æ‘¸å±å¹•ç­‰) 2ï¼šBroadcastReceiveråœ¨10så†…æ— æ³•ç»“æŸ 3ï¼šServiceTimeout(20s) --å°æ¦‚ç‡ç±»å‹ï¼ŒServiceåœ¨ç‰¹å®šçš„æ—¶é—´å†…æ— æ³•å¤„ç†å®Œæˆ Androidæ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œåœ¨Loop.loop()ä¸­ä¸æ–­æ¥æ”¶äº‹ä»¶ã€å¤„ç†äº‹ä»¶ï¼Œè€ŒActivityçš„ç”Ÿå‘½å‘¨æœŸéƒ½ä¾é äºä¸»çº¿ç¨‹çš„Loop.loop()æ¥è°ƒåº¦ï¼Œæ‰€ä»¥å¯æƒ³è€ŒçŸ¥å®ƒçš„å­˜æ´»å‘¨æœŸå’ŒActivityä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚å½“æ²¡æœ‰äº‹ä»¶éœ€è¦å¤„ç†æ—¶ï¼Œä¸»çº¿ç¨‹å°±ä¼šé˜»å¡ï¼›å½“å­çº¿ç¨‹å¾€æ¶ˆæ¯é˜Ÿåˆ—å‘é€æ¶ˆæ¯ï¼Œå¹¶ä¸”å¾€ç®¡é“æ–‡ä»¶å†™æ•°æ®æ—¶ï¼Œä¸»çº¿ç¨‹å°±è¢«å”¤é†’ã€‚ ä¸»çº¿ç¨‹åœ¨æ²¡æœ‰äº‹ä»¶éœ€è¦å¤„ç†çš„æ—¶å€™å°±æ˜¯å¤„äºé˜»å¡çš„çŠ¶æ€ã€‚æƒ³è®©ä¸»çº¿ç¨‹æ´»åŠ¨èµ·æ¥ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š ç¬¬ä¸€ç§æ˜¯ç³»ç»Ÿå”¤é†’ä¸»çº¿ç¨‹ï¼Œå¹¶ä¸”å°†ç‚¹å‡»äº‹ä»¶ä¼ é€’ç»™ä¸»çº¿ç¨‹ï¼› ç¬¬äºŒç§æ˜¯å…¶ä»–çº¿ç¨‹ä½¿ç”¨Handlerå‘MessageQueueä¸­å­˜æ”¾äº†ä¸€æ¡æ¶ˆæ¯ï¼Œå¯¼è‡´loopè¢«å”¤é†’ç»§ç»­æ‰§è¡Œã€‚ ä¸»çº¿ç¨‹Looperä»æ¶ˆæ¯é˜Ÿåˆ—è¯»å–æ¶ˆæ¯ï¼Œå½“è¯»å®Œæ‰€æœ‰æ¶ˆæ¯æ—¶ï¼Œä¸»çº¿ç¨‹é˜»å¡ã€‚å­çº¿ç¨‹å¾€æ¶ˆæ¯é˜Ÿåˆ—å‘é€æ¶ˆæ¯ï¼Œå¹¶ä¸”å¾€ç®¡é“æ–‡ä»¶å†™æ•°æ®ï¼Œä¸»çº¿ç¨‹å³è¢«å”¤é†’ï¼Œä»ç®¡é“æ–‡ä»¶è¯»å–æ•°æ®ï¼Œä¸»çº¿ç¨‹è¢«å”¤é†’åªæ˜¯ä¸ºäº†è¯»å–æ¶ˆæ¯ï¼Œå½“æ¶ˆæ¯è¯»å–å®Œæ¯•ï¼Œå†æ¬¡ç¡çœ ã€‚å› æ­¤loopçš„å¾ªç¯å¹¶ä¸ä¼šå¯¹CPUæ€§èƒ½æœ‰è¿‡å¤šçš„æ¶ˆè€—ã€‚ æ€»ç»“ï¼š Looer.loop()æ–¹æ³•å¯èƒ½ä¼šå¼•èµ·ä¸»çº¿ç¨‹çš„é˜»å¡ï¼Œä½†åªè¦å®ƒçš„æ¶ˆæ¯å¾ªç¯æ²¡æœ‰è¢«é˜»å¡ï¼Œèƒ½ä¸€ç›´å¤„ç†äº‹ä»¶å°±ä¸ä¼šäº§ç”ŸANRå¼‚å¸¸ã€‚ ä¸»çº¿ç¨‹Looperåœ¨å“ªé‡Œåˆå§‹åŒ– ActivityThread ç±»é‡Œé¢ public static void main(String[] args) &#123; Trace.traceBegin(Trace.TRACE_TAG_ACTIVITY_MANAGER, &quot;ActivityThreadMain&quot;); // CloseGuard defaults to true and can be quite spammy. We // disable it here, but selectively enable it later (via // StrictMode) on debug builds, but using DropBox, not logs. CloseGuard.setEnabled(false); Environment.initForCurrentUser(); // Set the reporter for event logging in libcore EventLogger.setReporter(new EventLoggingReporter()); // Make sure TrustedCertificateStore looks in the right place for CA certificates final File configDir = Environment.getUserConfigDirectory(UserHandle.myUserId()); TrustedCertificateStore.setDefaultUserDirectory(configDir); Process.setArgV0(&quot;&lt;pre-initialized&gt;&quot;); Looper.prepareMainLooper(); // Find the value for &#123;@link #PROC_START_SEQ_IDENT&#125; if provided on the command line. // It will be in the format &quot;seq=114&quot; long startSeq = 0; if (args != null) &#123; for (int i = args.length - 1; i &gt;= 0; --i) &#123; if (args[i] != null &amp;&amp; args[i].startsWith(PROC_START_SEQ_IDENT)) &#123; startSeq = Long.parseLong( args[i].substring(PROC_START_SEQ_IDENT.length())); &#125; &#125; &#125; ActivityThread thread = new ActivityThread(); thread.attach(false, startSeq); if (sMainThreadHandler == null) &#123; sMainThreadHandler = thread.getHandler(); &#125; if (false) &#123; Looper.myLooper().setMessageLogging(new LogPrinter(Log.DEBUG, &quot;ActivityThread&quot;)); &#125; // End of event ActivityThreadMain. Trace.traceEnd(Trace.TRACE_TAG_ACTIVITY_MANAGER); Looper.loop(); throw new RuntimeException(&quot;Main thread loop unexpectedly exited&quot;); &#125;","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Handler","slug":"Handler","permalink":"https://blog.musiclake.cn/tags/Handler/"}],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“æºç åˆ†æâ€”â€”Okhttp","slug":"æºç åˆ†æ/Okhttpæºç åˆ†æ","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.450Z","comments":true,"path":"posts/3c273908.html","link":"","permalink":"https://blog.musiclake.cn/posts/3c273908.html","excerpt":"","text":"ä»¥å‰æ€»æƒ³åˆ†æä¸€ä¸‹ä¸€äº›å¼€æºæ¡†æ¶çš„æºç ï¼Œçœ‹çœ‹è¢«äººçš„è®¾è®¡æ€æƒ³å’ŒåŠŸèƒ½","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Okhttp","slug":"Okhttp","permalink":"https://blog.musiclake.cn/tags/Okhttp/"}],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"å¸¸ç”¨ç½‘ç»œè¯·æ±‚åº“å¯¹æ¯”â€”â€”Volleyã€Okhttpã€Retrofitå¯¹æ¯”","slug":"æºç åˆ†æ/volleyã€okhttpã€retrofitåˆ†æ","date":"2019-09-21T16:00:00.000Z","updated":"2022-05-05T09:56:06.450Z","comments":true,"path":"posts/b0301fc2.html","link":"","permalink":"https://blog.musiclake.cn/posts/b0301fc2.html","excerpt":"","text":"Volleyã€Okhttpã€Retrofitä¸‰å¤§ç½‘ç»œè¯·æ±‚åº“åˆ†æ 1. åŸç”ŸAndroid åŸç”Ÿä½¿ç”¨HttpUrlConnection 2. VolleyVolley æ˜¯ Google å®˜æ–¹å‡ºçš„ä¸€å¥—å°è€Œå·§çš„å¼‚æ­¥è¯·æ±‚åº“ï¼Œè¯¥æ¡†æ¶å°è£…çš„æ‰©å±•æ€§å¾ˆå¼ºï¼Œæ”¯æŒ HttpClientã€HttpUrlConnectionï¼Œç”šè‡³æ”¯æŒ OkHttpï¼Œå…·ä½“æ–¹æ³•å¯ä»¥çœ‹ Jake å¤§ç¥çš„è¿™ä¸ª Gist æ–‡ä»¶ ä¼˜ç‚¹ç¼ºç‚¹åœ¨BasicNetworkä¸­åˆ¤æ–­äº†statusCode(statusCode &lt; 200 || statusCode &gt; 299)ï¼Œå¦‚ä½•ç¬¦åˆæ¡ä»¶ç›´æ¥æŠ›å‡ºIOException()ï¼Œä¸å¤Ÿåˆç† å¯¼è‡´401ç­‰å…¶ä»–çŠ¶æ€æŠ›å‡ºIOExceptionè§£å†³æ–¹æ¡ˆ :http://blog.csdn.net/kufeiyun/article/details/44646145http://stackoverflow.com/questions/30476584/android-volley-strange-error-with-http-code-401-java-io-ioexception-no-authe å›¾ç‰‡åŠ è½½æ€§èƒ½ä¸€èˆ¬ å¯¹å¤§èµ„æºä¸‹è½½æ”¯æŒä¸å¤Ÿ","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"å»ºé€ è€…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/å»ºé€ è€…æ¨¡å¼","date":"2019-09-13T16:00:16.000Z","updated":"2022-05-05T09:56:06.451Z","comments":true,"path":"posts/fe816c3c.html","link":"","permalink":"https://blog.musiclake.cn/posts/fe816c3c.html","excerpt":"","text":"ç®€ä»‹å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ä½¿ç”¨å¤šä¸ªç®€å•çš„å¯¹è±¡ä¸€æ­¥ä¸€æ­¥æ„å»ºæˆä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚ä¸€ä¸ª Builder ç±»ä¼šä¸€æ­¥ä¸€æ­¥æ„é€ æœ€ç»ˆçš„å¯¹è±¡ã€‚è¯¥ Builder ç±»æ˜¯ç‹¬ç«‹äºå…¶ä»–å¯¹è±¡çš„ã€‚ å®ä¾‹Android ä¸­AlertDialog ```public class AlertDialog extends AppCompatDialog implements DialogInterface { //åªå±•ç¤ºéƒ¨åˆ†ä»£ç  ... public static class Builder &#123; private final AlertParams P; private final int mTheme; public Builder(@NonNull Context context) &#123; this(context, AlertDialog.resolveDialogTheme(context, 0)); &#125; public Builder(@NonNull Context context, @StyleRes int themeResId) &#123; this.P = new AlertParams(new ContextThemeWrapper(context, AlertDialog.resolveDialogTheme(context, themeResId))); this.mTheme = themeResId; &#125; //åªå±•ç¤ºéƒ¨åˆ†ä»£ç  .... &#125; }","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è´£ä»»é“¾æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è´£ä»»é“¾æ¨¡å¼","date":"2019-09-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/6208627e.html","link":"","permalink":"https://blog.musiclake.cn/posts/6208627e.html","excerpt":"","text":"ç®€ä»‹è´£ä»»é“¾æ¨¡å¼ (Chain of Responsibility Pattern)æ˜¯ä¸€ç§å¸¸è§çš„è¡Œä¸ºæ¨¡å¼ã€‚è´£ä»»é“¾æ¨¡å¼ä¸ºè¯·æ±‚åˆ›å»ºäº†ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡çš„é“¾ã€‚è¿™ç§æ¨¡å¼ç»™äºˆè¯·æ±‚çš„ç±»å‹ï¼Œå¯¹è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è¿›è¡Œè§£è€¦ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œé€šå¸¸æ¯ä¸ªæ¥æ”¶è€…éƒ½åŒ…å«å¯¹å¦ä¸€ä¸ªæ¥æ”¶è€…çš„å¼•ç”¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸èƒ½å¤„ç†è¯¥è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠç›¸åŒçš„è¯·æ±‚ä¼ ç»™ä¸‹ä¸€ä¸ªæ¥æ”¶è€…ï¼Œä¾æ­¤ç±»æ¨ã€‚ å…¸å‹å®ä¾‹okhttp æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰å°±ä½¿ç”¨äº†è´£ä»»é“¾æ¨¡å¼","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"æš´èµ°På›¾é¡¹ç›®é‡æ„","slug":"Android/ä»£ç é‡æ„ç»éªŒ","date":"2019-09-11T02:04:02.000Z","updated":"2022-05-05T09:56:06.445Z","comments":true,"path":"posts/db3d6b05.html","link":"","permalink":"https://blog.musiclake.cn/posts/db3d6b05.html","excerpt":"","text":"å°†MVP ä»£ç é‡æ„ MVVM æ€»ç»“ 1ã€é¦–å…ˆå°†æ•´ä¸ªå·¥ç¨‹ è¿ç§»åˆ°AndroidXï¼ˆå¯åšå¯ä¸åšï¼Œä¸ºäº†è·Ÿç´§æœ€æ–°æŠ€æœ¯ï¼‰AndroidX æ˜¯ Google æ¨å‡ºäº†çš„ï¼Œç›®çš„æ˜¯ä¸ºäº†ç»Ÿä¸€ android.support.xxx å…¼å®¹åŒ…ä¸»è¦è¿ç§»æ˜¯åˆ©ç”¨Android Studio çš„ Refacetor -&gt; Migrate to AndroidX æ“ä½œå¯ä»¥é€šè¿‡æŸ¥çœ‹ gradle.properties ä¸­ android.useAndroidX=true æ¥ç¡®å®šæ˜¯å¦è¿ç§»äº†AndroidXæœ€åæŸ¥çœ‹app/build.gradle ä¸­æ˜¯å¦å¯¼å…¥äº†ç›¸å…³çš„ä¸‰æ–¹åº“å¦‚ implementation &#x27;androidx.appcompat:appcompat:1.1.0&#x27; implementation &#x27;androidx.recyclerview:recyclerview:1.0.0&#x27; implementation &#x27;androidx.constraintlayout:constraintlayout:2.0.0-beta2&#x27; implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$rootProject.lifecycleVersion&quot; implementation &quot;androidx.lifecycle:lifecycle-extensions:$rootProject.lifecycleVersion&quot; implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$rootProject.lifecycleVersion&quot; 2ã€å°†MVP è½¬æˆ MVVMæ ¹æ®é¡¹ç›®æ¶æ„ï¼ˆå¦‚åŒ…ç»“æ„ï¼‰ï¼Œå¯ä»¥å¯¹åŒ…ç»“æ„åšä¸€ä¸ªå…·ä½“åˆ†æï¼Œæ ¹æ®ä¸šåŠ¡åŠŸèƒ½ï¼Œåˆ’åˆ†æ•°æ®åŒ…ã€åŠŸèƒ½åŒ…ã€é€‚é…å™¨åŒ…ã€å·¥å…·åŒ…ç­‰ç„¶ååœ¨åŠŸèƒ½åŒ…å†…å† å®šä¹‰å„ä¸ªåŠŸèƒ½çš„viewmodelã€‚ åˆå§‹æƒ³æ³•æ˜¯ å…ˆå°† XXXPresenter é‡å‘½åä¸º XXXViewModelï¼Œç„¶åå†æ ¹æ®å…·ä½“çš„ä¸šåŠ¡ï¼Œä½¿ç”¨LiveDataè§‚å¯Ÿä¼šæ”¹å˜çš„æ•°æ®ç±»","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"é‡æ„","slug":"é‡æ„","permalink":"https://blog.musiclake.cn/tags/%E9%87%8D%E6%9E%84/"},{"name":"æƒ³æ³•","slug":"æƒ³æ³•","permalink":"https://blog.musiclake.cn/tags/%E6%83%B3%E6%B3%95/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"Android ç³»ç»Ÿé€‚é…","slug":"Android/ç³»ç»Ÿé€‚é…","date":"2019-09-09T02:04:02.000Z","updated":"2022-05-05T09:56:06.445Z","comments":true,"path":"posts/adb2609a.html","link":"","permalink":"https://blog.musiclake.cn/posts/adb2609a.html","excerpt":"","text":"Androidç³»ç»Ÿé€‚é…ä¸»è¦ä»‹ç»ä¸€ä¸‹é€‚é…å„ä¸ªç‰ˆæœ¬ç³»ç»Ÿçš„ç‰¹æ€§ Android 5.0 5.1 é€šçŸ¥æ é€‚é…Android 6.0 6.1 åŠ¨æ€æƒé™ç”³è¯· Android 7.0 7.1 åº”ç”¨é—´å…±äº«æ–‡ä»¶Fileprovider 7.2 org.apacheä¸æ”¯æŒé—®é¢˜ 7.3 SharedPreferencesé—ªé€€SharedPreferences read = getSharedPreferences(RELEASE_POOL_DATA, MODE_WORLD_READABLE);//MODE_WORLD_READABLE ï¼š7.0ä»¥åä¸èƒ½ä½¿ç”¨è¿™ä¸ªè·å–ï¼Œä¼šé—ªé€€ï¼Œä¿®æ”¹æˆMODE_PRIVATE Android 8.0 8.1 é€šçŸ¥é€‚é….å¢åŠ æ¸ é“IDå®‰è£…APK.å…è®¸å®‰è£…æœªçŸ¥æ¥æº 8.2 é€šçŸ¥é€‚é…å®‰å“8.0ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„ç®¡åˆ¶é€šçŸ¥çš„æé†’ï¼Œä¸æƒ³ä¸€äº›ä¸é‡è¦çš„é€šçŸ¥æ‰“æ‰°ç”¨æˆ·ï¼Œæ–°å¢äº†é€šçŸ¥æ¸ é“ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®æ¸ é“æ¥å±è”½ä¸€äº›ä¸æƒ³è¦çš„é€šçŸ¥ 8.3 å®‰è£…APK é¦–å…ˆåœ¨AndroidManifestæ–‡ä»¶ä¸­æ·»åŠ å®‰è£…æœªçŸ¥æ¥æºåº”ç”¨çš„æƒé™: &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot;/&gt; 8.4 SecurityExceptionçš„é—ªé€€ 8.5 é™æ€å¹¿æ’­æ— æ³•æ­£å¸¸æ¥æ”¶ é—®é¢˜åŸå› ï¼š Android 8.0 å¼•å…¥äº†æ–°çš„å¹¿æ’­æ¥æ”¶å™¨é™åˆ¶ï¼Œå› æ­¤æ‚¨åº”è¯¥ç§»é™¤æ‰€æœ‰ä¸ºéšå¼å¹¿æ’­ Intent æ³¨å†Œçš„å¹¿æ’­æ¥æ”¶å™¨ 8.6 Caused by: java.lang.IllegalStateException: Only fullscreen opaque activities can request orientationé—®é¢˜åŸå› ï¼š Android 8.0 éå…¨å±é€æ˜é¡µé¢ä¸å…è®¸è®¾ç½®æ–¹å‘ï¼ˆåé¢8.1ç³»ç»Ÿè°·æ­Œå°±å»æ‰äº†è¿™ä¸ªé™åˆ¶ï¼Œå¯èƒ½å¾ˆå¤šäººçœŸçš„ä¸ä¹ æƒ¯å§ï¼‰ è§£å†³æ–¹æ¡ˆï¼š ï¼ˆ1ï¼‰android:windowIsTranslucentè®¾ç½®ä¸ºfalse ï¼ˆ2ï¼‰å¦‚æœè¿˜æ˜¯æƒ³ç”¨çš„è¯ï¼Œå°±å»æ‰æ¸…å•æ–‡ä»¶ä¸­Activityä¸­çš„android:screenOrientation=â€portraitâ€ï¼Œ ï¼ˆ3ï¼‰å°±æ˜¯ä½¿ç”¨é€æ˜çš„dialogæˆ–è€…PopupWindowæ¥ä»£æ›¿ï¼Œä¹Ÿå¯ä»¥ç”¨DialogFragmentï¼Œçœ‹è‡ªå·±çš„éœ€æ±‚å’Œå–œå¥½ Android 9.0 9.1 CLEARTEXT communication to life.115.com not permitted by network security policy httpæ˜æ–‡ç½‘ç»œè¯·æ±‚é—®é¢˜ 9.2 å…¶ä»–Apiçš„ä¿®æ”¹ Android 10Android 10ç‰ˆæœ¬å¯¹äºç”¨æˆ·çš„éšç§æƒé™è¦æ±‚æ›´ä¸¥äº†ï¼Œæ‰€ä»¥éœ€è¦å¯¹äºæƒé™è¿™å—åšå¥½é€‚é…ï¼Œå¦‚ ime å‚è€ƒå‚è€ƒ1","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"é€‚é…","slug":"é€‚é…","permalink":"https://blog.musiclake.cn/tags/%E9%80%82%E9%85%8D/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"MVC ï¼ŒMVPï¼ŒMVVM çš„ç†è§£","slug":"Android/MVPã€MVVMçš„ç†è§£","date":"2019-08-30T16:00:00.000Z","updated":"2022-05-05T09:56:06.444Z","comments":true,"path":"posts/234507b1.html","link":"","permalink":"https://blog.musiclake.cn/posts/234507b1.html","excerpt":"","text":"ä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†è§£è€¦åˆï¼Œå¼€å‘æ›´åŠ æ–¹ä¾¿ MVCç®€å•ä»‹ç»Modelã€Viewã€ControllerModel å¤„ç†ç½‘ç»œæ•°æ®ï¼Œæ•°æ®åº“æ•°æ®ç­‰View xmlController activity MVPModel View Presenter Model å¤„ç†ç½‘ç»œæ•°æ®ï¼Œæ•°æ®åº“æ•°æ®ç­‰ Presenter ä¸»è¦æŠŠmodel å’Œ view éš”ç¦»ï¼Œå‡å°‘è€¦åˆï¼Œæ‹†åˆ†Controllerå±‚ MVVMåŸºäºMVPæ¨¡å¼çš„åŸºç¡€ä¸Šï¼Œå°†På˜æˆViewModelï¼Œä½¿ç”¨databinding å®ç°æ•°æ®çš„åŒå‘ç»‘å®šã€‚ Viewmodel DatabindingGoogle å®˜æ–¹ä»‹ç»å®˜æ–¹è§£é‡Šï¼šæ•°æ®ç»‘å®šåº“æ˜¯ä¸€ä¸ªæ”¯æŒåº“ï¼Œå…è®¸æ‚¨ä½¿ç”¨å£°æ˜æ€§æ ¼å¼è€Œä¸æ˜¯ä»¥ç¼–ç¨‹æ–¹å¼å°†å¸ƒå±€ä¸­çš„UIç»„ä»¶ç»‘å®šåˆ°åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®æºã€‚ å¸ƒå±€é€šå¸¸åœ¨å…·æœ‰è°ƒç”¨UIæ¡†æ¶æ–¹æ³•çš„ä»£ç çš„æ´»åŠ¨ä¸­å®šä¹‰ã€‚ ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç è°ƒç”¨findViewByIdï¼ˆï¼‰æ¥æŸ¥æ‰¾TextViewå°éƒ¨ä»¶å¹¶å°†å…¶ç»‘å®šåˆ°viewModelå˜é‡çš„userNameå±æ€§ï¼š DataBinding æ˜¯è°·æ­Œå®˜æ–¹å‘å¸ƒçš„ä¸€ä¸ªæ¡†æ¶ï¼Œé¡¾åæ€ä¹‰å³ä¸ºæ•°æ®ç»‘å®šï¼Œæ˜¯ MVVM æ¨¡å¼åœ¨ Android ä¸Šçš„ä¸€ç§å®ç°ï¼Œç”¨äºé™ä½å¸ƒå±€å’Œé€»è¾‘çš„è€¦åˆæ€§ï¼Œä½¿ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ã€‚MVVM ç›¸å¯¹äº MVPï¼Œå…¶å®å°±æ˜¯å°† Presenter å±‚æ›¿æ¢æˆäº† ViewModel å±‚ã€‚DataBinding èƒ½å¤Ÿçœå»æˆ‘ä»¬ä¸€ç›´ä»¥æ¥çš„ findViewById() æ­¥éª¤ï¼Œå¤§é‡å‡å°‘ Activity å†…çš„ä»£ç ï¼Œæ•°æ®èƒ½å¤Ÿå•å‘æˆ–åŒå‘ç»‘å®šåˆ° layout æ–‡ä»¶ä¸­ï¼Œæœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼ï¼Œè€Œä¸”èƒ½è‡ªåŠ¨è¿›è¡Œç©ºæ£€æµ‹ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ å¯ç”¨ DataBinding çš„æ–¹æ³•æ˜¯åœ¨å¯¹åº” Model çš„ build.gradle æ–‡ä»¶é‡ŒåŠ å…¥ä»¥ä¸‹ä»£ç ï¼ŒåŒæ­¥åå°±èƒ½å¼•å…¥å¯¹ DataBinding çš„æ”¯æŒ android &#123; dataBinding &#123; enabled = true &#125; &#125; LiveDataLiveDataæ˜¯ä¸€ä¸ªæ•°æ®æŒæœ‰ç±»ï¼Œå®ƒå¯ä»¥é€šè¿‡æ·»åŠ è§‚å¯Ÿè€…è¢«å…¶ä»–ç»„ä»¶è§‚å¯Ÿå…¶å˜æ›´ã€‚ä¸åŒäºæ™®é€šçš„è§‚å¯Ÿè€…ï¼Œå®ƒæœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯éµä»åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚åœ¨Activityä¸­å¦‚æœæ•°æ®æ›´æ–°äº†ä½†Activityå·²ç»æ˜¯destroyçŠ¶æ€ï¼ŒLivaeDataå°±ä¸ä¼šé€šçŸ¥Activity(observer)ã€‚å½“ç„¶ã€‚LiveDataçš„ä¼˜ç‚¹è¿˜æœ‰å¾ˆå¤šï¼Œå¦‚ä¸ä¼šé€ æˆå†…å­˜æ³„æ¼ç­‰ã€‚LiveDataé€šå¸¸ä¼šé…åˆViewModelæ¥ä½¿ç”¨ï¼ŒViewModelè´Ÿè´£è§¦å‘æ•°æ®çš„æ›´æ–°ï¼Œæ›´æ–°ä¼šé€šçŸ¥åˆ°LiveDataï¼Œç„¶åLiveDataå†é€šçŸ¥æ´»è·ƒçŠ¶æ€çš„è§‚å¯Ÿè€…ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“æºç åˆ†æâ€”â€”Dagger2","slug":"æºç åˆ†æ/Dagger2","date":"2019-08-15T02:04:02.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/5880a2ff.html","link":"","permalink":"https://blog.musiclake.cn/posts/5880a2ff.html","excerpt":"","text":"Dagger2 æ˜¯ä»€ä¹ˆï¼ŸDagger2æ˜¯Daggerçš„å‡çº§ç‰ˆï¼Œæ˜¯ä¸€ä¸ªä¾èµ–æ³¨å…¥æ¡†æ¶,ç¬¬ä¸€ä»£ç”±å¤§åé¼é¼çš„Squareå…¬å¸å…±äº«å‡ºæ¥ï¼Œç¬¬äºŒä»£åˆ™æ˜¯ç”±è°·æ­Œæ¥æ‰‹åæ¨å‡ºçš„ï¼Œç°åœ¨ç”±Googleæ¥æ‰‹ç»´æŠ¤. Google dagger Github åœ°å€ Daggeræ˜¯ä¾èµ–æ³¨å…¥çš„ç¼–è¯‘æ—¶æ¡†æ¶ã€‚ å®ƒä¸ä½¿ç”¨åå°„æˆ–è¿è¡Œæ—¶å­—èŠ‚ç ç”Ÿæˆï¼Œåœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ‰€æœ‰åˆ†æï¼Œå¹¶ç”Ÿæˆçº¯Javaæºä»£ç ã€‚ Gladleå¼•å…¥ // Add Dagger dependencies dependencies &#123; api &#x27;com.google.dagger:dagger:2.x&#x27; annotationProcessor &#x27;com.google.dagger:dagger-compiler:2.x&#x27; &#125;","categories":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}],"tags":[],"keywords":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/categories/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"}]},{"title":"help","slug":"help","date":"2019-03-23T07:30:40.000Z","updated":"2022-05-05T09:56:06.446Z","comments":true,"path":"posts/8875cac.html","link":"","permalink":"https://blog.musiclake.cn/posts/8875cac.html","excerpt":"","text":"","categories":[],"tags":[],"keywords":[]},{"title":"æ¥å…¥Googleã€FaceBookç¬¬ä¸‰æ–¹ç™»å½•","slug":"login-sdk","date":"2019-01-16T15:16:43.000Z","updated":"2022-05-05T09:56:06.447Z","comments":true,"path":"posts/baa940ea.html","link":"","permalink":"https://blog.musiclake.cn/posts/baa940ea.html","excerpt":"","text":"é€šè¿‡Firebaseæ¥å…¥Googleã€FaceBookç­‰ç¬¬ä¸‰æ–¹ç™»å½•å‡†å¤‡ ç§‘å­¦ä¸Šç½‘ google è´¦å·ï¼Œfacebookè´¦å· æ¥å…¥æŒ‡å—ä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚ Googleç™»å½• Facebookç™»å½• Firebaseé›†æˆæ¥å…¥google,facebookç™»å½• Googleç™»å½•æ¨èåªæ¥å…¥Googleç™»å½•ï¼Œä¸æ¥å…¥Firebase æ¥å…¥æŒ‡å— ä¸»è¦æ­¥éª¤1ã€æ–°å»ºåº”ç”¨ï¼Œæˆ–è€…å·²æœ‰çš„é€‰æ‹©åº”ç”¨2ã€\båˆ›å»ºåº”ç”¨çš„å‡­å€Ÿï¼Œå³token æ ¸å¿ƒä»£ç  // Configure sign-in to request the user&#x27;s ID, email address, and basic // profile. ID and basic profile are included in DEFAULT_SIGN_IN. GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN) .requestEmail() .build(); // Build a GoogleSignInClient with the options specified by gso. mGoogleSignInClient = GoogleSignIn.getClient(this, gso); private void signIn() &#123; Intent signInIntent = mGoogleSignInClient.getSignInIntent(); startActivityForResult(signInIntent, RC_SIGN_IN); &#125; Facebookç™»å½•æ¨èåªæ¥å…¥Facebookç™»å½•ï¼Œä¸æ¥å…¥Firebase Facebookåº”ç”¨ç®¡ç† ä¸»è¦æµç¨‹ 1ã€é¦–å…ˆè¿›å…¥facebookåº”ç”¨å¼€å‘é¢æ¿ï¼Œæ–°å»ºåº”ç”¨ï¼Œå¹¶æ·»åŠ Facebook ç™»å½• 2ã€è·Ÿç€æ­¥éª¤ä¸€æ­¥æ­¥å®Œæˆæ‰€æœ‰é…ç½®ï¼ˆæ³¨æ„ç‚¹ï¼šç”Ÿæˆç§˜é’¥åºåˆ—ï¼‰ 3ã€ç„¶åä¸€æ­¥æ­¥ç‚¹å‡»å®Œæˆ 4ã€æµ‹è¯•OK Firebaseé›†æˆæ¥å…¥google,facebookç™»å½•å¦‚æœé¡¹ç›®ä¸­å·²ç»é›†æˆäº†Firebaseï¼Œåˆ™æ¨èä½¿ç”¨è¿™ç§æ–¹å¼ Firebaseé¡¹ç›®ç®¡ç†ç•Œé¢ åˆ›å»ºé¡¹ç›® 1ã€è¿›å…¥é¡¹ç›®è®¾ç½® å¼€å‘-&gt;Authentication-&gt;ç™»å½•æ–¹æ³•ã€‚å¯ç”¨ç™»å½•æä¾›æ–¹ä¸­çš„Googleï¼Œfacebookã€‚ 2ã€\bå…³è”googleç™»å½•ï¼Œåªéœ€è¦æ›´æ–°é¡¹ç›®è®¾ç½®ï¼Œæ·»åŠ åº”ç”¨ï¼Œç„¶åæ ¹æ®è¦æ±‚æ·»åŠ sha1æŒ‡çº¹ï¼Œå¡«å†™åŒ…åï¼Œä¸‹è½½google-service.jsonæ–‡ä»¶å¼•å…¥åˆ°é¡¹ç›®ä¸­ã€‚ 3ã€å¯åŠ¨facebookç™»å½•ï¼ŒæŒ‰facebookç™»å½•æ­¥éª¤ï¼Œå¯åŠ¨facebookç™»å½•ï¼Œç„¶åé…ç½®åº”ç”¨tokenã€‚","categories":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}],"tags":[{"name":"api","slug":"api","permalink":"https://blog.musiclake.cn/tags/api/"}],"keywords":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}]},{"title":"Flutter å­¦ä¹ ","slug":"flutter-study","date":"2019-01-13T16:00:51.000Z","updated":"2022-05-05T09:56:06.446Z","comments":true,"path":"posts/2d016662.html","link":"","permalink":"https://blog.musiclake.cn/posts/2d016662.html","excerpt":"","text":"Flutterç®€ä»‹Flutteræ˜¯è°·æ­Œçš„ç§»åŠ¨UIæ¡†æ¶ï¼Œå¯ä»¥å¿«é€Ÿåœ¨iOSå’ŒAndroidä¸Šæ„å»ºé«˜è´¨é‡çš„åŸç”Ÿç”¨æˆ·ç•Œé¢ã€‚ Flutterå¯ä»¥ä¸ç°æœ‰çš„ä»£ç ä¸€èµ·å·¥ä½œã€‚åœ¨å…¨ä¸–ç•Œï¼ŒFlutteræ­£åœ¨è¢«è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…å’Œç»„ç»‡ä½¿ç”¨ï¼Œå¹¶ä¸”Flutteræ˜¯å®Œå…¨å…è´¹ã€å¼€æºçš„ã€‚ å…·å¤‡å¤šä¸ªç‰¹ç‚¹ å¿«é€Ÿå¼€å‘ï¼šä¸»è¦æ˜¯æ¯«ç§’çº§çš„çƒ­é‡è½½ï¼Œèƒ½å¤Ÿåœ¨ä»£ç ä¿®æ”¹ä¹‹åèƒ½ç«‹å³åˆ·æ–°ç•Œé¢ å¯Œæœ‰è¡¨ç°åŠ›å’Œçµæ´»çš„UIï¼šå¿«é€Ÿå‘å¸ƒèšç„¦äºåŸç”Ÿä½“éªŒçš„åŠŸèƒ½ã€‚åˆ†å±‚çš„æ¶æ„å…è®¸æ‚¨å®Œå…¨è‡ªå®šä¹‰ï¼Œä»è€Œå®ç°éš¾ä»¥ç½®ä¿¡çš„å¿«é€Ÿæ¸²æŸ“å’Œå¯Œæœ‰è¡¨ç°åŠ›ã€çµæ´»çš„è®¾è®¡ã€‚ åŸç”Ÿæ€§èƒ½ï¼šFlutteråŒ…å«äº†è®¸å¤šæ ¸å¿ƒçš„widgetï¼Œå¦‚æ»šåŠ¨ã€å¯¼èˆªã€å›¾æ ‡å’Œå­—ä½“ç­‰ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨iOSå’ŒAndroidä¸Šè¾¾åˆ°åŸç”Ÿåº”ç”¨ä¸€æ ·çš„æ€§èƒ½ã€‚ ä½¿ç”¨ç¼–ç¨‹è¯­è¨€ï¼šDart å…¥é—¨è¸©å‘æ³¨æ„ç‚¹ é¡¹ç›®ç»“æ„åˆ’åˆ†ï¼Œandroid æˆ– ios åº•å±‚æºç ç¼–è¾‘ å‘½åè§„èŒƒï¼Œä¸»è¦åŒ…æ‹¬æ–‡ä»¶åå‘½åï¼Œå˜é‡å‘½åå’Œæ–¹æ³•å‘½å å¤šè¯­è¨€æ”¯æŒ å¾…ç»­â€¦ Dartç®€ä»‹åŠåŸºæœ¬å‘½åè§„èŒƒåŸæ–‡ï¼šdartå®˜æ–¹æ–‡æ¡£ æ€»ç»“å‡ ç‚¹1.ç±»åä½¿ç”¨å¤§é©¼å³°å¼2.å˜é‡åä½¿ç”¨å°é©¼å³°3.æ–‡ä»¶åä½¿ç”¨å°å†™å­—æ¯åŠ ä¸‹åˆ’çº¿4.ä¸è¦ä½¿ç”¨å‰ç¼€å­—æ¯5.æ³¨æ„å¯¼å…¥åŒ…çš„æ’åº6.å¯¹äºæ‰€æœ‰çš„æ§åˆ¶æµç»“æ„ä½¿ç”¨èŠ±æ‹¬å· å…·ä½“æ ·ä¾‹ å…¶ä»–èµ„æºFlutter å®˜æ–¹ç½‘ç«™Flutter ä¸­æ–‡ç½‘Flutter ä¸‰æ–¹åº“æœç´¢","categories":[],"tags":[],"keywords":[]},{"title":"éŸ³é¢‘ç„¦ç‚¹ç®¡ç†","slug":"Android/AudioFocus","date":"2018-04-24T02:04:02.000Z","updated":"2022-05-05T09:56:06.443Z","comments":true,"path":"posts/68e283a1.html","link":"","permalink":"https://blog.musiclake.cn/posts/68e283a1.html","excerpt":"","text":"#å‰è¨€éšç€Androidç‰ˆæœ¬çš„å‡çº§ï¼Œä»¥å‰ç”¨çš„ä¸€äº›apiéƒ½æè¿‡æ—¶ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨AudioFocusRequest é¡¾åæ€ä¹‰æ˜¯ä¸€ä¸ªéŸ³é¢‘ç„¦ç‚¹è¯·æ±‚ç±»ã€‚ ä¸€ä¸ªå°è£…éŸ³é¢‘ç„¦ç‚¹è¯·æ±‚ä¿¡æ¯çš„ç±»,AudioFocusRequesté€šè¿‡Builderå®ä¾‹åŒ–ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•requestAudioFocuså’ŒabandonAudioFocusRequestã€‚ #ä»€ä¹ˆæ˜¯ç„¦ç‚¹è¯·æ±‚ï¼Ÿ éŸ³é¢‘ç„¦ç‚¹æ˜¯API 8ä¸­å¼•å…¥çš„ä¸€ä¸ªæ¦‚å¿µã€‚å®ƒä¸»è¦ä½œç”¨äºç”¨æˆ·åœ¨åŒä¸€ä¸ªæ—¶åˆ»åªèƒ½å…³æ³¨å•ä¸ªéŸ³é¢‘æµï¼Œä¾‹å¦‚ï¼Œä¸èƒ½åœ¨åŒä¸€æ—¶é—´å¬éŸ³ä¹æˆ–å¹¿æ’­ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åŒæ—¶æ’­æ”¾å¤šä¸ªéŸ³é¢‘æµï¼Œä½†åªæœ‰ä¸€ä¸ªç”¨æˆ·ä¼šçœŸæ­£å¬åˆ°ï¼ˆå…³æ³¨ï¼‰ï¼Œè€Œå…¶ä»–çš„æ˜¯èƒŒæ™¯éŸ³ã€‚ä¾‹å¦‚åœ¨é©¾é©¶æ—¶æ­£åœ¨è¯´è¯ï¼Œä½éŸ³é‡æ’­æ”¾éŸ³ä¹ã€‚ï¼ˆåˆç§°ä¸ºä½éŸ³ï¼‰ã€‚ å½“åº”ç”¨ç¨‹åºè¯·æ±‚éŸ³é¢‘ç„¦ç‚¹æ—¶ï¼Œå®ƒè¡¨ç¤ºå®ƒæœ‰æ„â€œæ‹¥æœ‰â€éŸ³é¢‘ç„¦ç‚¹æ’­æ”¾éŸ³é¢‘ã€‚æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ä¸åŒç±»å‹çš„ç„¦ç‚¹è¯·æ±‚ï¼Œè¯·æ±‚åçš„è¿”å›å€¼ï¼Œä»¥åŠå¯¹æŸå¤±çš„å›åº”ã€‚ æ³¨æ„ï¼šåœ¨æˆäºˆç„¦ç‚¹ä¹‹å‰ï¼Œåº”ç”¨ç¨‹åºä¸åº”æ’­æ”¾ä»»ä½•å†…å®¹ã€‚ ä¸åŒç±»å‹çš„ç„¦ç‚¹è¯·æ±‚ AUDIOFOCUS_GAINï¼šç”¨äºæŒ‡ç¤ºéŸ³é¢‘ç„¦ç‚¹çš„å¢ç›Šæˆ–æœªçŸ¥æŒç»­æ—¶é—´çš„éŸ³é¢‘ç„¦ç‚¹è¯·æ±‚ã€‚ AUDIOFOCUS_GAIN_TRANSIENTï¼šç”¨äºæŒ‡ç¤ºä¸´æ—¶å¢ç›Šæˆ–éŸ³é¢‘ç„¦ç‚¹è¯·æ±‚ï¼Œé¢„è®¡æŒç»­æ—¶é—´çŸ­ AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCKï¼šç”¨äºæŒ‡ç¤ºéŸ³é¢‘ç„¦ç‚¹çš„ä¸´æ—¶è¯·æ±‚ï¼Œé¢„è®¡æŒç»­æ—¶é—´è¾ƒçŸ­æ—¶é—´é‡ï¼Œä»¥åŠå…¶ä»–éŸ³é¢‘åº”ç”¨ç¨‹åºå¯ä»¥ç»§ç»­æ’­æ”¾çš„ä½ç½®é™ä½äº§å‡ºæ°´å¹³åï¼ˆä¹Ÿç§°ä¸ºâ€œå›é¿â€ï¼‰ã€‚ä¸´æ—¶æ”¹å˜çš„ä¾‹å­æ˜¯å›æ”¾éŸ³ä¹æ’­æ”¾çš„è¡Œè½¦è·¯çº¿åœ¨åå°æ˜¯å¯ä»¥æ¥å—çš„ã€‚ AUDIOFOCUS_GAIN_TRANSIENT_EXCLUSIVEï¼šç”¨äºæŒ‡ç¤ºéŸ³é¢‘ç„¦ç‚¹çš„ä¸´æ—¶è¯·æ±‚ï¼Œé¢„è®¡æŒç»­æ—¶é—´è¾ƒçŸ­ï¼Œæ²¡æœ‰å…¶ä»–åº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿç»„ä»¶åº”è¯¥æ’­æ”¾çš„æ—¶é—´é‡ã€ä»»ä½•ä¸œè¥¿ã€‚ ç‹¬å å’Œç¬æ€éŸ³é¢‘ç„¦ç‚¹è¯·æ±‚çš„ä¾‹å­æ˜¯è¯­éŸ³ã€å¤‡å¿˜è®°å½•å’Œè¯­éŸ³è¯†åˆ«ï¼Œåœ¨æ­¤æœŸé—´ç³»ç»Ÿä¸åº”è¯¥æ’­æ”¾ä»»ä½•å†…å®¹é€šçŸ¥ï¼Œåª’ä½“æ’­æ”¾åº”æš‚åœã€‚ AUDIOFOCUS_LOSSï¼šç”¨äºæŒ‡ç¤ºæœªçŸ¥æŒç»­æ—¶é—´çš„éŸ³é¢‘ç„¦ç‚¹ä¸¢å¤±ã€‚ AUDIOFOCUS_LOSS_TRANSIENTï¼šç”¨äºæŒ‡ç¤ºéŸ³é¢‘ç„¦ç‚¹çš„ç¬æ—¶ä¸¢å¤±ã€‚ AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCKï¼šç”¨äºæŒ‡ç¤ºéŸ³é¢‘ç„¦ç‚¹çš„å¤±è´¥è€…å¯èƒ½å‘ç”Ÿçš„éŸ³é¢‘ç„¦ç‚¹çš„ç¬æ—¶ä¸¢å¤±ï¼Œå¦‚æœå®ƒæƒ³ç»§ç»­æ’­æ”¾ï¼ˆä¹Ÿç§°ä¸ºâ€œèº²é¿â€ï¼‰ï¼Œåˆ™é™ä½å…¶è¾“å‡ºéŸ³é‡ï¼Œæ–°çš„ç„¦ç‚¹æ‰€æœ‰è€…ä¸éœ€è¦å…¶ä»–äººä¿æŒæ²‰é»˜ã€‚ /** * Used to indicate no audio focus has been gained or lost, or requested. */ public static final int AUDIOFOCUS_NONE = 0; /** * Used to indicate a gain of audio focus, or a request of audio focus, of unknown duration. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) * @see #requestAudioFocus(OnAudioFocusChangeListener, int, int) */ public static final int AUDIOFOCUS_GAIN = 1; /** * Used to indicate a temporary gain or request of audio focus, anticipated to last a short * amount of time. Examples of temporary changes are the playback of driving directions, or an * event notification. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) * @see #requestAudioFocus(OnAudioFocusChangeListener, int, int) */ public static final int AUDIOFOCUS_GAIN_TRANSIENT = 2; /** * Used to indicate a temporary request of audio focus, anticipated to last a short * amount of time, and where it is acceptable for other audio applications to keep playing * after having lowered their output level (also referred to as &quot;ducking&quot;). * Examples of temporary changes are the playback of driving directions where playback of music * in the background is acceptable. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) * @see #requestAudioFocus(OnAudioFocusChangeListener, int, int) */ public static final int AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCK = 3; /** * Used to indicate a temporary request of audio focus, anticipated to last a short * amount of time, during which no other applications, or system components, should play * anything. Examples of exclusive and transient audio focus requests are voice * memo recording and speech recognition, during which the system shouldn&#x27;t play any * notifications, and media playback should have paused. * @see #requestAudioFocus(OnAudioFocusChangeListener, int, int) */ public static final int AUDIOFOCUS_GAIN_TRANSIENT_EXCLUSIVE = 4; /** * Used to indicate a loss of audio focus of unknown duration. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) */ public static final int AUDIOFOCUS_LOSS = -1 * AUDIOFOCUS_GAIN; /** * Used to indicate a transient loss of audio focus. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) */ public static final int AUDIOFOCUS_LOSS_TRANSIENT = -1 * AUDIOFOCUS_GAIN_TRANSIENT; /** * Used to indicate a transient loss of audio focus where the loser of the audio focus can * lower its output volume if it wants to continue playing (also referred to as &quot;ducking&quot;), as * the new focus owner doesn&#x27;t require others to be silent. * @see OnAudioFocusChangeListener#onAudioFocusChange(int) */ public static final int AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK = -1 * AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCK; ä¾‹å­åˆå§‹åŒ–audio focus request mAudioManager = (AudioManager) Context.getSystemService(Context.AUDIO_SERVICE); mPlaybackAttributes = new AudioAttributes.Builder() .setUsage(AudioAttributes.USAGE_MEDIA) .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH) .build(); mFocusRequest = new AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN) .setAudioAttributes(mPlaybackAttributes) .setAcceptsDelayedFocusGain(true) .setWillPauseWhenDucked(true) .setOnAudioFocusChangeListener(this, mMyHandler) .build(); mMediaPlayer = new MediaPlayer(); mMediaPlayer.setAudioAttributes(mPlaybackAttributes); final Object mFocusLock = new Object(); boolean mPlaybackDelayed = false; // requesting audio focus int res = mAudioManager.requestAudioFocus(mFocusRequest); synchronized (mFocusLock) &#123; if (res == AUDIOFOCUS_REQUEST_FAILED) &#123; mPlaybackDelayed = false; &#125; else if (res == AUDIOFOCUS_REQUEST_GRANTED) &#123; mPlaybackDelayed = false; playbackNow(); &#125; else if (res == AUDIOFOCUS_REQUEST_DELAYED) &#123; mPlaybackDelayed = true; &#125; &#125; å®ç°éŸ³é¢‘ç„¦ç‚¹ç›‘å¬ï¼ŒOnAudioFocusChangeListener &amp;#64;Override public void onAudioFocusChange(int focusChange) &#123; switch (focusChange) &#123; case AudioManager.AUDIOFOCUS_GAIN: if (mPlaybackDelayed || mResumeOnFocusGain) &#123; synchronized (mFocusLock) &#123; mPlaybackDelayed = false; mResumeOnFocusGain = false; &#125; playbackNow(); &#125; break; case AudioManager.AUDIOFOCUS_LOSS: synchronized (mFocusLock) &#123; // é•¿ä¹…å¤±å»éŸ³é¢‘ç„¦ç‚¹ï¼Œåœæ­¢æ’­æ”¾ mResumeOnFocusGain = false; mPlaybackDelayed = false; &#125; pausePlayback(); break; case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT: case AudioManager.AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK: // æˆ‘ä»¬ä»¥åŒæ ·çš„æ–¹å¼å¤„ç†æ‰€æœ‰çŸ­æš‚çš„æŸå¤±ï¼Œå› ä¸ºæˆ‘ä»¬ä»ä¸è†å¬æœ‰å£°ä¹¦ synchronized (mFocusLock) &#123; // we should only resume if playback was interrupted mResumeOnFocusGain = mMediaPlayer.isPlaying(); mPlaybackDelayed = false; &#125; pausePlayback(); break; &#125; &#125;","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"},{"name":"AudioFocus","slug":"AudioFocus","permalink":"https://blog.musiclake.cn/tags/AudioFocus/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"æ€»ç»“","slug":"interview/interview-android","date":"2018-04-23T16:55:00.000Z","updated":"2022-05-05T09:56:06.447Z","comments":true,"path":"posts/c8d0539d.html","link":"","permalink":"https://blog.musiclake.cn/posts/c8d0539d.html","excerpt":"","text":"æ€»ç»“ä¸€ä¸‹ åŸºç¡€çŸ¥è¯†ç‚¹1ã€Viewçš„ç»˜åˆ¶2ã€Viewçš„äº‹ä»¶åˆ†å‘æœºåˆ¶3ã€StringBuffer å’ŒStringBuilderåŒºåˆ«4ã€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼5ã€Android activityçš„å¯åŠ¨æµç¨‹6ã€åŠ¨ç”»ã€å±æ€§åŠ¨ç”»7ã€MVPæ¨¡å¼ é¡¹ç›®ä¸­çš„é—®é¢˜1ã€åšè¿™ä¸ªé¡¹ç›®æœ‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆé—®é¢˜2ã€é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¸€äº›æŠ€æœ¯é—®é¢˜3ã€è¿™ä¸ªæ•ˆæœæ˜¯æ€ä¹ˆå®ç°çš„ å·¥ä½œå†…å®¹1ã€å¹³æ—¶å·¥ä½œå†…å®¹æ˜¯ä»€ä¹ˆ2ã€å®Œæˆäº†ä»€ä¹ˆä»»åŠ¡","categories":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.musiclake.cn/categories/%E6%9D%82%E8%B0%88/"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.musiclake.cn/tags/%E6%9D%82%E8%B0%88/"}],"keywords":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://blog.musiclake.cn/categories/%E6%9D%82%E8%B0%88/"}]},{"title":"éŸ³ä¹æ¹–é¡¹ç›®é‡åˆ°çš„é—®é¢˜","slug":"project/musiclake-buglist","date":"2018-04-23T10:21:16.000Z","updated":"2022-05-05T09:56:06.447Z","comments":true,"path":"posts/255a7cdf.html","link":"","permalink":"https://blog.musiclake.cn/posts/255a7cdf.html","excerpt":"","text":"1ã€ViewPagerä¸­fragment Aï¼Œç‚¹å‡»è·³è½¬åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªFragment B(addFragment æ·»åŠ B),ç„¶åè¿”å›åˆ°A(å›é€€æ ˆé¡¶çš„A)ã€‚Aä¸­çš„æ•°æ®ä¸åˆ·æ–°ã€‚å°è¯•äº†åœ¨onResumeä¸­,æ·»åŠ æ›´æ–°,ä½†æ˜¯æ•ˆæœè¿˜æ˜¯ä¸€æ ·ã€‚ è§£å†³åŠæ³•,å¼•å…¥äº‹ä»¶æ€»çº¿RxBus. 2ã€é€‚é…Android 8.0 å‡ºç°java.lang.IllegalStateException: Only fullscreen opaque activities can request orientation åªæœ‰å…¨å±ä¸é€æ˜çš„æ´»åŠ¨æ‰èƒ½è¯·æ±‚æ–¹å‘.ä¸»è¦æ˜¯manifestä¸­å®šä¹‰äº†android:screenOrientation=â€portraitâ€ å’Œè®¾ç½®åŠé€æ˜ä¸»é¢˜å¯¼è‡´ã€‚ 3ã€ä½¿ç”¨Rxbusæ—¶ï¼Œé€€å‡ºActivityã€‚ç„¶åä»é€šçŸ¥æ è¿›å…¥ç¨‹åºå´©æºƒã€‚ 4ã€Retrofit gsonè§£ææ•°æ®QQéŸ³ä¹æ­Œè¯æ•°æ®æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè¿”å›çš„æ•°æ®ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„jsonæ•°æ®ã€‚ io.reactivex.exceptions.OnErrorNotImplementedException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $ .... è¿”å›æ•°æ®æ ¼å¼jsonpæ ¼å¼ï¼šMusicJsonCallback({â€¦})ã€‚é€šè¿‡ä¸‹é¢çš„è§£å†³æ–¹æ³•ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä½†æ˜¯è·å¾—çš„String æ•°æ®åªæœ‰MusicJsonCallback( .è¿™éƒ¨åˆ†é‡è¦éƒ¨åˆ†ä¸çŸ¥é“å»å“ªäº†â€¦ Gson gson = new GsonBuilder() .setLenient() .create(); Retrofit retrofit = new Retrofit.Builder() .baseUrl(BASE_URL) .client(client) .addConverterFactory(GsonConverterFactory.create(gson)) .build(); ä¸å¾—å·²ï¼Œæœ€åå°è¯•é‡å†™GSONè½¬æ¢å™¨ã€‚é‡åˆ°ä¸€ä¸ªå¤§å‘é‚£å°±æ˜¯ResponseBody //ResponseDataä¸­çš„æµåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæˆ‘ä»¬å…ˆå°†æµä¸­çš„æ•°æ®è¯»å‡ºåœ¨byteæ•°ç»„ä¸­ã€‚è¿™ä¸ªæ–¹æ³•ä¸­å·²ç»å…³é—­äº†ResponseBody,æ‰€ä»¥ä¸éœ€è¦å†å…³é—­äº† 5ã€Observable è½¬æ¢æˆ Observable //lambaè¡¨è¾¾å¼ Observable.flatMap(T -&gt; &#123; return Observable.fromArray(S); &#125; //Javaè¡¨è¾¾å¼ Observable.flatMap(new Function&lt;T, ObservableSource&lt;?&gt;&gt;() &#123; @Override public ObservableSource&lt;?&gt; apply(T tt) throws Exception &#123; return null; &#125; &#125;); 6ã€Retrofit å¤šä¸ªç½‘ç»œè¯·æ±‚åˆå¹¶ä½¿ç”¨ Observable.merge(QQApiServiceImpl.search(key, limit, page), XiamiServiceImpl.search(key, limit, page)) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(new Observer&lt;List&lt;Music&gt;&gt;() &#123; @Override public void onSubscribe(Disposable d) &#123; &#125; @Override public void onNext(List&lt;Music&gt; results) &#123; mView.showSearchResult(results); &#125; @Override public void onError(Throwable e) &#123; mView.showEmptyView(); mView.hideLoading(); &#125; @Override public void onComplete() &#123; mView.hideLoading(); &#125; &#125;); 7ã€å°è£…MediaPlayerï¼ŒprepareAsync()è£…è½½å¼‚å¸¸ï¼Œè¿˜æœ‰getDurationä¼šå‡ºç°æ•°æ®å¼‚å¸¸ //å¼‚æ­¥è£…è½½æ•°æ® player.prepareAsync(); //è®¾ç½®å¼‚æ­¥è£…è½½å®Œæ¯•ç›‘å¬äº‹ä»¶ player.setOnPreparedListener(this); //è®¾ç½®å¼‚æ­¥è£…è½½è¿›åº¦ player.setOnBufferingUpdateListener(this); 8ã€ViewPagerä¸­ å¤šç‚¹è§¦ç¢°å¯¼è‡´ java.lang.IllegalArgumentException: pointerIndex out of range at android.view.MotionEvent.nativeGetAxisValue(Native Method) åŸå› åˆ†æï¼šåœ¨LrcViewä¸­,å› ä¸ºè°ƒç”¨äº†requestDisallowInterceptTouchEventæ¥åŒºåˆ†å·¦å³æ»‘åŠ¨å’Œä¸Šä¸‹æ»‘åŠ¨ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´çˆ¶ç±»çš„viewå¤šç‚¹è§¦æ‘¸æœ‰äº›æƒ…å†µä¸‹ä¼šå‡ºç°æ•°ç»„æº¢å‡ºçš„æƒ…å†µ.è§£å†³åŠæ³• åˆ©ç”¨try{}catch(){}æŠ›å‡ºå¼‚å¸¸ é‡å†™ViewPagerä¸­çš„onTouchEvent å’ŒonInterceptTouchEventã€‚public class MultiTouchViewPager extends ViewPager &#123; public MultiTouchViewPager(Context context) &#123; super(context); &#125; public MultiTouchViewPager(Context context, AttributeSet attrs) &#123; super(context, attrs); &#125; @Override public boolean onTouchEvent(MotionEvent ev) &#123; try &#123; return super.onTouchEvent(ev); &#125; catch (IllegalArgumentException ex) &#123; ex.printStackTrace(); &#125; return false; &#125; @Override public boolean onInterceptTouchEvent(MotionEvent ev) &#123; try &#123; return super.onInterceptTouchEvent(ev); &#125; catch (IllegalArgumentException ex) &#123; ex.printStackTrace(); &#125; return false; &#125; &#125; 9ã€InputEventReceiver: Attempted to finish an input event but the input event receiver has already been disposed. 10ã€é‡æ„æ•°æ®åº“ï¼Œå½“æ’å…¥åå‡ æ¡æ•°æ®æˆ–æ›´å¤šæ—¶ï¼Œå…¶ä¸­é‡å¤çš„æ•°æ®æ›´æ–°æ•°æ®åº“ï¼Œä¸é‡å¤çš„æ·»åŠ è¿›å»ï¼Œèƒ½ä¸èƒ½ç”¨ä¸€æ¡è¯­å¥å®ç°ï¼Ÿ 11ã€å†æ¬¡è®¾è®¡æ•°æ®åº“ï¼Œæ’­æ”¾é˜Ÿåˆ—ï¼Œæ’­æ”¾å†å²è®¾è®¡æˆä¸€ç§ç‰¹æ®Šçš„æ­Œå•æ•°æ®ã€‚ 12ã€å¢åŠ setNextMediaPlayeræ–¹æ³•æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸E/MediaPlayer: next player is not prepared 13ã€Observable.flatmap æ“ä½œç¬¦çš„ä½¿ç”¨ 14ã€Attempt to invoke interface method æ¥å£ä¸‹è½½æœåŠ¡æ¥å£æ›´æ–°ä¸‹è½½çŠ¶æ€ã€‚ 15ã€AudioManageræ§åˆ¶æ’­æ”¾ 16ã€æ’­æ”¾æš‚åœæ¢å¤ï¼ŒéŸ³é‡å˜åŒ– 17ã€çº¿æ§ 18ã€å¯¹äºViewPager+Fragment+Tablayoutä¸­ æ‡’åŠ è½½ä¼˜åŒ–ã€‚ 19ã€getwidth()å’Œgetheight()å·²ç»è¿‡æ—¶ä½¿ç”¨point//å±å¹•å®½é«˜ Displaydisplay = getWindowManager().getDefaultDisplay(); Pointsize = newPoint(); display.getSize(size); width = size.x; height = size.y;","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"MusicLake","slug":"MusicLake","permalink":"https://blog.musiclake.cn/tags/MusicLake/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"gitä½¿ç”¨---ä¿®æ”¹å†å²æäº¤è®°å½•","slug":"tools/git","date":"2018-02-02T13:34:25.000Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/be0c7f93.html","link":"","permalink":"https://blog.musiclake.cn/posts/be0c7f93.html","excerpt":"","text":"gitä½¿ç”¨ æ€»ç»“@(æ€»ç»“)[git] æ€»ç»“ä¸€ä¸‹å½“å‰å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨çš„gitå‘½ä»¤ ##æ—¥å¸¸ä½¿ç”¨ gitåˆå§‹åŒ–å’Œæ‹‰å–gitåˆ†æ”¯git init git clone ... ä¿®æ”¹&amp;æäº¤å¯¹äºåªæœ‰ä¿®æ”¹å‰å…ˆpull ä¸€ä¸‹ä»£ç ï¼Œä¿®æ”¹å®Œæˆåå†push git add -u / -A git commit git push åˆ†æ”¯ç®¡ç†git branch git branch newbranch git checkout newbranch æŸ¥çœ‹çŠ¶æ€&amp;å†å²è®°å½•git status git log ç§»æ¤git cherry-pick git commit --amend å¸¸ç”¨å‘½ä»¤git log git log æŸ¥çœ‹ å½“å‰åˆ†æ”¯ çš„æäº¤è®°å½• git log â€“stat git log -5 â€“pretty â€“oneline æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤ git log â€“follow æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å git statusæ˜¾ç¤ºgitçŠ¶æ€ä¸»è¦åˆ†ä¸ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºä¸¤ä¸ªï¼Œå…¶ä¸­å·¥ä½œåŒºåˆåˆ†ä¸ºgit ç›‘æ§çš„å’Œæœªè¢«ç›‘æ§çš„ä¸¤ä¸ªåŒºåŸŸã€‚ git add git add filename git add -A/. æ·»åŠ å½“å‰ç›®å½• all tracked and untracked files åˆ°æš‚å­˜åŒº git add -u æ·»åŠ å½“å‰ç›®å½•çš„tracked files åˆ°æš‚å­˜åŒº git commitå°†æš‚å­˜åŒºçš„æäº¤å½“åˆ†æ”¯ä¸Š git commit -m â€œthe commit messageâ€ æäº¤ git commit â€“amend å¢è¡¥æäº¤. ä¼šä½¿ç”¨ä¸å½“å‰æäº¤èŠ‚ç‚¹ç›¸åŒçš„çˆ¶èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡æ–°çš„æäº¤,æ—§çš„æäº¤å°†ä¼šè¢«å–æ¶ˆ. git checkoutå¯ä»¥ç§»å‡ºæš‚å­˜åŒºçš„æ–‡ä»¶ã€å¯ä»¥åˆ‡æ¢åˆ†æ”¯ä¹Ÿå¯ä»¥åˆ‡æ¢åˆ°tagèŠ‚ç‚¹ã€‚ git checkout branch æ£€å‡ºåˆ†æ”¯ git checkout tag_name æ£€å‡ºå½“å‰tag git checkout file_name æ”¾å¼ƒå¯¹æ–‡ä»¶çš„ä¿®æ”¹ git branchå¯ä»¥ç”¨æ¥åˆ›å»ºã€åˆ é™¤ã€æŸ¥çœ‹åˆ†æ”¯ï¼Œä¸ç®¡æ˜¯è¿œç¨‹çš„è¿˜æ˜¯æœ¬åœ°çš„éƒ½å¯ä»¥ã€‚ git branch æ˜¾ç¤ºæœ¬åœ°ä»“åº“åˆ†æ”¯ git branch -a æŸ¥çœ‹æœ¬åœ°è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯ git branch -r æ˜¾ç¤ºè¿œç¨‹ä»“åº“åˆ†æ”¯ git branch -D master åˆ é™¤masteråˆ†æ”¯ git branch master æ–°å»ºmasteråˆ†æ”¯ git resetç”¨æ¥å›é€€ç‰ˆæœ¬ï¼Œä¾‹å¦‚ä»å½“å‰commit å›é€€åˆ°å†å²æäº¤ä¸­ git reset â€“hard é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´ git reset â€“soft ä¸ä¼šæ”¹å˜æš‚å­˜åŒºï¼Œä»…ä»…å°†commitå›é€€åˆ°äº†æŒ‡å®šçš„æäº¤ git reset â€“mixed é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼Œå·¥ä½œåŒºcommitä¹‹åçš„å…¨éƒ¨æ”¾å…¥æš‚å­˜åŒº git cleanå¯ä»¥ç”¨æ¥æ¸…ç†å·¥ä½œåŒºä¸­ Untracked filesã€‚ git clean -n æ˜¾ç¤º å°†è¦ åˆ é™¤çš„ æ–‡ä»¶ å’Œ ç›®å½• git clean -f åˆ é™¤ æ–‡ä»¶ git clean -df åˆ é™¤ æ–‡ä»¶ å’Œ ç›®å½• git pullä»æœåŠ¡å™¨æ‹‰å–ä»£ç ï¼Œä¹Ÿæœ‰äº›è¯´æ³•ä¸æ¨èä½¿ç”¨pullæ‹‰å–ä»£ç ï¼Œå› ä¸ºæ‹‰å–çš„ä»£ç æœ‰å¯èƒ½ä¼šæ±¡æŸ“æœ¬åœ°çš„æäº¤è®°å½•ã€‚ git pushå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°æœåŠ¡å™¨ä¸Š git push origin master å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°masterè¿œç¨‹åˆ†æ”¯ git cherry-pickå°†å…¶ä»–åˆ†æ”¯çš„æäº¤ä¿®æ”¹å‰ªåˆ‡åˆ°å½“å‰åˆ†æ”¯ï¼Œcherry-pick åé¢å¸¦ä¸Šéœ€è¦å‰ªåˆ‡ç§»æ¤çš„commit IDã€‚å½“é‡åˆ°cherry-pickå†²çªåï¼Œéœ€è¦è§£å†³å†²çªï¼Œç„¶åä½¿ç”¨ git commit â€“amend ä¿®æ”¹æäº¤ä¿¡æ¯å³å¯ã€‚ git cherry-pick å‰ªåˆ‡è¿‡æ¥æäº¤è¿‡æ¥åï¼Œç›´æ¥æäº¤åˆ°å½“å‰åˆ†æ”¯ git cherry-pick â€“no-commit ä¸ç›´æ¥æäº¤å½“å‰åˆ†æ”¯ï¼Œåœ¨æš‚å­˜åŒºå¯è§ä¿®æ”¹è®°å½•çš„æ–‡ä»¶ã€‚ git merge git merge master å½“å‰åˆ†æ”¯åˆå¹¶ masteråˆ†æ”¯ git diffæ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ git tag git tag æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit git tag æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit git tag -d åˆ é™¤æœ¬åœ°tag git push origin :refs/tags/ åˆ é™¤è¿œç¨‹tag git rebasegit stash git stash save -a â€œmessageâ€ å°†å½“å‰æ”¹åŠ¨ä¿å­˜åˆ°ä¸€ä¸ª git stash list æ˜¾ç¤ºæ‰€æœ‰ä¸´æ—¶åŒºçš„stash id git stash pop git stash drop gitk å›¾å½¢ç•Œé¢gitk æ˜¯ä¸€ä¸ªå›¾å½¢ç•Œé¢ï¼Œå¯ç”¨ç”¨æ¥æŸ¥çœ‹æäº¤è®°å½•å’Œä¿®æ”¹è®°å½•ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„git ç®¡ç†å·¥å…·ï¼Œä¾‹å¦‚source treeã€‚æ„Ÿè§‰æŒºå¥½ç”¨çš„ã€‚","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://blog.musiclake.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"git","slug":"git","permalink":"https://blog.musiclake.cn/tags/git/"}],"keywords":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://blog.musiclake.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}]},{"title":"gitä½¿ç”¨---ä¿®æ”¹å†å²æäº¤è®°å½•","slug":"tools/git_rebase","date":"2018-02-02T13:34:25.000Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/be0c7f93.html","link":"","permalink":"https://blog.musiclake.cn/posts/be0c7f93.html","excerpt":"","text":"git cherry-pickæ‰€é‡åˆ°çš„é—®é¢˜ä½¿ç”¨git ä¹Ÿæœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œæ‰€ä»¥æƒ³æ€»ç»“ä¸€ä¸‹git çš„ä½¿ç”¨ã€‚å…¶ä¸­ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­copyä»£ç ï¼ˆæ¬ç –ï¼‰æ˜¯å¸¸æœ‰çš„äº‹æƒ…ã€‚å¯¹äºgit ç®¡ç†çš„åˆ†æ”¯æ¥è¯´ï¼Œgit cherry-pickå°±æ˜¯å¦ç±»çš„copyã€‚è¯´çš„æ­£å¼ç‚¹å°±æ˜¯ ç§»æ¤ã€‚ è€Œcherry-pick å°±æ˜¯ç§»æ¤å‘½ä»¤ã€‚ â€“å¯¹äºgit cherry-pickè¿‡æ¥çš„æäº¤è®°å½•ï¼Œæœ‰äº›æ˜¯å› ä¸ºä¸€ç‚¹å°é”™è¯¯å¯¼è‡´é‡å¤æäº¤çš„ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯ä¸€ä¸ªåŠŸèƒ½åˆ†äº†å¥½å‡ æ¬¡æäº¤ï¼Œå¯¹äºè¿™äº›è®°å½•ï¼Œå¦‚æœå…¨éƒ¨æŒ‰åŸæ¥åˆ†æ”¯çš„æäº¤è®°å½•æäº¤ï¼Œå°±æ„Ÿè§‰å¾ˆéº»çƒ¦ï¼Œåˆ°åº•æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•èƒ½å¤Ÿåˆå¹¶å‡ æ¡æäº¤è®°å½•å‘¢ï¼Ÿ è¿˜æœ‰å°±æ˜¯å½“cherry-pickå¤šæ¡è®°å½•åï¼Œçªç„¶æƒ³ä¿®æ”¹å…¶ä¸­ä¸€æ¡ä¿®æ”¹è®°å½•æ—¶ã€‚å‘ç°å¾ˆéš¾åŠã€‚è¿™æ—¶ git rebase å°±å¾ˆè½»æ¾äº†è§£å†³æ‰äº†è¿™äº›éš¾å¤„ã€‚ å½“ç„¶ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šç±»ä¼¼çš„ä»‹ç»ï¼Œä¹Ÿå¯ä»¥å»å€Ÿé˜…ä¸€ä¸‹ã€‚ 1. åˆå¹¶å¤šæ¡ä¿®æ”¹åˆå§‹æ—¶ï¼Œé€šè¿‡git log æŸ¥çœ‹ æäº¤è®°å½•ï¼Œè®°å½•ä¸€ä¸‹commit hashå€¼ã€‚ @ubuntu:~/work/git$ git log commit e916213e3c4cc9c977ec20902ae27ae45352eef3 Date: Tue Feb 6 20:05:32 2018 +0800 Third commit commit 358371a2b2b15d847bf89e44e94e7b926fed2da0 Date: Tue Feb 6 20:04:48 2018 +0800 Second commit commit ba82e7007559afab14ff124ea51e19772dedfe2c Date: Tue Feb 6 20:03:32 2018 +0800 First commit ç„¶åé€šè¿‡ git rebase -i commit-id å‘½ä»¤ç¼–è¾‘æäº¤è®°å½•ã€‚ git rebase -i commit-id è¡¨ç¤ºï¼Œä¿®æ”¹commit-idä»¥åçš„æäº¤è®°å½•ï¼Œ ä¹Ÿå¯ä»¥ç”¨git rebase -i HEAD ~n. nè¡¨ç¤ºå€’æ•°ç¬¬å‡ æ¡è®°å½•ã€‚ pick 358371a Second commit pick e916213 Third commit # Rebase ba82e70..e916213 onto ba82e70 # # Commands: # p, pick = use commit # r, reword = use commit, but edit the commit message # e, edit = use commit, but stop for amending # s, squash = use commit, but meld into previous commit # f, fixup = like &quot;squash&quot;, but discard this commit&#x27;s log message # x, exec = run command (the rest of the line) using shell # # If you remove a line here THAT COMMIT WILL BE LOST. # However, if you remove everything, the rebase will be aborted. # å…¶ä¸­ pick ä½¿ç”¨è¿™æ¡æäº¤ï¼ˆä¿æŒä¸å˜ï¼‰ reword ä½¿ç”¨è¿™æ¡æäº¤ï¼Œå¯ä»¥ç¼–è¾‘å½“å‰commitä¿¡æ¯ edit ä½¿ç”¨è¿™æ¡æäº¤ï¼Œæ”¾å¼ƒå½“å‰commitä¿¡æ¯ squash ä½¿ç”¨è¿™æ¡æäº¤ï¼Œåˆå¹¶å‰ä¸€æ¡æäº¤ fixup å’Œsquashä¸€æ ·ï¼Œä½†ä¼šæ”¾å¼ƒå½“å‰è¿™ä¸ªæäº¤çš„ä¿¡æ¯ exec åˆå¹¶ä¿®æ”¹ä½¿ç”¨ï¼Œå°† e916213 Third commit å‰çš„pick æ”¹æˆsquash å³å¯ï¼Œç„¶åä¿å­˜é€€å‡ºã€‚ pick 358371a Second commit squash e916213 Third commit ä¿®æ”¹å®Œæˆåå†æ¬¡æŸ¥çœ‹git logï¼Œå·²ç»åˆå¹¶åˆ°ä¸€èµ·äº†ã€‚å› ä¸ºä½¿ç”¨squashï¼Œæ‰€ä»¥ä¸¤æ¡è®°å½•å¾—messageéƒ½ä¼šåˆåœ¨ä¸€èµ·ã€‚å¦‚æœ ä½¿ç”¨fixupï¼Œåˆ™ä¼šæ”¾å¼ƒThird commit çš„commit ä¿¡æ¯ã€‚ commit 940fec9ea88c69a195c546d48e5209c4cdb6abec Date: Tue Feb 6 20:04:48 2018 +0800 Second commit Third commit commit ba82e7007559afab14ff124ea51e19772dedfe2c Date: Tue Feb 6 20:03:32 2018 +0800 First commit 2. ä¿®æ”¹æäº¤è®°å½•ä¸­çš„commit ä¿¡æ¯åŒä¸Šé¢ï¼Œåªè¦åœ¨éœ€è¦ä¿®æ”¹çš„è®°å½•å‰ å°†pick æ¢æˆrewordï¼Œå³å¯è¿›å…¥ç¼–è¾‘ç•Œé¢ï¼Œç¼–è¾‘commit messageï¼Œç„¶åä¿å­˜é€€å‡ºã€‚è¿™æ ·å°±ä¿®æ”¹å®Œæˆäº†ã€‚ å½“ä½¿ç”¨editæ—¶ï¼Œè™½ç„¶ä¹Ÿå¯ä»¥ä¿®æ”¹ï¼Œ Stopped at 3af42b9... reword Second commit You can amend the commit now, with git commit --amend Once you are satisfied with your changes, run git rebase --continue å†ä½¿ç”¨git commit â€“amend è¿›å…¥ç¼–è¾‘ç•Œé¢ä¿®æ”¹ã€‚ ä¿å­˜ï¼Œä½¿ç”¨git rebase â€“continue è¿”å›åˆ°æœ€æ–°èŠ‚ç‚¹ã€‚ å¯ä»¥å®é™…æ“ä½œä¸€ä¸‹ï¼Œå¦‚æœæ€•ç©åå·¥ä½œåˆ†æ”¯ï¼Œå¯ä»¥è‡ªå·±æ–°å»ºä¸€ä¸ªåˆ†æ”¯ç©ä¸€ç©ã€‚è¿™ä¸ªgit rebase çœŸçš„å¾ˆç¥å¥‡ã€‚å¯¹äºrebaseçš„å…¶ä»–åŠŸèƒ½ä¹Ÿå¾ˆå¼ºå¤§ã€‚","categories":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://blog.musiclake.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"git","slug":"git","permalink":"https://blog.musiclake.cn/tags/git/"}],"keywords":[{"name":"å¼€å‘å·¥å…·","slug":"å¼€å‘å·¥å…·","permalink":"https://blog.musiclake.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"}]},{"title":"WallpaperPickeråˆ†æ","slug":"æºç åˆ†æ/WallpaperPickeråˆ†æ","date":"2017-12-25T00:21:16.000Z","updated":"2022-05-05T09:56:06.450Z","comments":true,"path":"/post","link":"","permalink":"https://blog.musiclake.cn/post","excerpt":"","text":"åˆ†æç‚¹1.ä¸»è¦ç±»ä»‹ç»2.WallpaperPickerä¸­ä¸»è¦ä½¿ç”¨çš„è®¾è®¡æ¨¡å¼â€”â€”æ¨¡æ¿æ–¹æ³•æ¨¡å¼3.å›¾ç‰‡çš„å¤„ç† åŸç”ŸAndroidç³»ç»Ÿä¸­çš„WallpaperPickerä¸»è¦Activityæœ‰WallpaperPickerActivityã€WallpaperCropActivity ä¸¤ä¸ª åˆå§‹åŒ–æµç¨‹æ ¹æ®æºç ï¼Œå£çº¸ActivityåŠ è½½ä¸»è¦åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼šåˆ›å»º HandlerThread mLoaderThread = new HandlerThread(&quot;wallpaper_loader&quot;); mLoaderThread.start(); mLoaderHandler = new Handler(mLoaderThread.getLooper(), this); è°ƒç”¨ init()ï¼ŒåŠ è½½å¸ƒå±€ã€æ§ä»¶åˆå§‹åŒ–ã€åˆå§‹åŒ–ä¸€äº›æ“ä½œ -&gt; mCropViewåˆå§‹åŒ–è§¦æ‘¸ç›‘å¬ -&gt; åˆå§‹åŒ–å£çº¸åç§»é‡ mWallpaperParallaxOffset -&gt; åˆå§‹åŒ–å£çº¸æ•°æ®åº“ åŠ è½½å¡«å……å­˜å‚¨å£çº¸ -&gt; åŠ è½½å¡«å……Resourceså£çº¸ -&gt; å¼‚æ­¥åŠ è½½å¡«å……liveå£çº¸ -&gt; åŠ è½½å¡«å……ç¬¬ä¸‰æ–¹å£çº¸ -&gt; Galleryå¢åŠ tile -&gt; åˆå§‹åŒ–mCropViewå¸ƒå±€æ”¹å˜ç›‘å¬äº‹ä»¶ -&gt; åˆå§‹åŒ–èµ„æºå£çº¸åˆ—è¡¨ -&gt; ä¸ºåˆ é™¤itemsæ—¶åˆ›å»ºè¿‡æ¸¡åŠ¨ç”» -&gt; è®¾ç½®actionBarç›‘å¬äº‹ä»¶ æ¦‚å¿µä»‹ç»BitmapRegionTileSource:å›¾ç‰‡åŒºåŸŸå¹³é“ºèµ„æº å£çº¸é¢„è§ˆæµç¨‹-&gt; mCropView.addOnLayoutChangeListener-&gt; onClick(mWallpapersView.getChildAt(mSelectedIndex))-&gt; æ ¹æ®å½“å‰å£çº¸ä¿¡æ¯Tag è·å– å£çº¸æ¥æº-&gt; ç„¶åæ ¹æ®ä¸åŒçš„å£çº¸æ¥æºè°ƒç”¨ onClick-&gt; ä»¥ResourceWallpaperInfoä¸ºä¾‹ã€‚-&gt; åˆ›å»ºå›¾ç‰‡è¾“å…¥æµBitmapRegionTileSource.InputStreamSource-&gt; è£å‰ªå›¾ç‰‡-&gt; åˆ›å»º LoadRequestï¼Œåˆå§‹åŒ–æ•°æ®-&gt; ç§»é™¤ MSG_LOAD_IMAGE åŠ è½½å›¾ç‰‡çš„æ¶ˆæ¯-&gt; å‘é€åŠ è½½å›¾ç‰‡çš„æ¶ˆæ¯-&gt;&gt; åŠ è½½å›¾ç‰‡ æµç¨‹-&gt;&gt; åˆ¤æ–­bitmapSource æ˜¯å¦ä¸ºç©º-&gt;&gt;&gt; å¦‚æœä¸ºç©º è¿”å›é»˜è®¤å£çº¸çš„DrawableTileSourcereq.srcä¸ä¸ºç©ºï¼Œè°ƒç”¨BitmapSourceçš„ loadInBackground-&gt;&gt;&gt;&gt; loadInBackground æ•°æ®æµç¨‹â€”â€“æ–°å»ºå¯¹è±¡ InBitmapProviderâ€”â€“è·å–å›¾ç‰‡æ—‹è½¬è§’åº¦getExifRotationâ€”â€“åˆå§‹åŒ–å›¾ç‰‡å¤§å°è§£ç å™¨ï¼ˆä¸»è¦è·å–å®½é«˜ï¼‰â€”â€“å›¾ç‰‡è§£ç BitmapFactory.Options/**BitmapFactory.Options è¯¦è§£ inPreferredConfigï¼šè¿™ä¸ªå€¼æ˜¯è®¾ç½®è‰²å½©æ¨¡å¼ï¼Œé»˜è®¤å€¼æ˜¯ARGB_8888ï¼Œåœ¨è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªåƒç´ ç‚¹å ç”¨4bytesç©ºé—´ï¼Œä¸€èˆ¬å¯¹é€æ˜åº¦ä¸åšè¦æ±‚çš„è¯ï¼Œä¸€èˆ¬é‡‡ç”¨RGB_565æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼ä¸‹ä¸€ä¸ªåƒç´ ç‚¹å ç”¨2bytesã€‚inJustDecodeBoundsï¼šå¦‚æœå°†è¿™ä¸ªå€¼ç½®ä¸ºtrueï¼Œé‚£ä¹ˆåœ¨è§£ç çš„æ—¶å€™å°†ä¸ä¼šè¿”å›bitmapï¼Œåªä¼šè¿”å›è¿™ä¸ªbitmapçš„å°ºå¯¸ã€‚è¿™ä¸ªå±æ€§çš„ç›®çš„æ˜¯ï¼Œå¦‚æœä½ åªæƒ³çŸ¥é“ä¸€ä¸ªbitmapçš„å°ºå¯¸ï¼Œä½†åˆä¸æƒ³å°†å…¶åŠ è½½åˆ°å†…å­˜æ—¶ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å±æ€§ã€‚inSampleSizeï¼šç¼©æ”¾æ¯”ä¾‹ï¼Œå°äº1æ—¶ï¼Œå½“åš1ï¼Œç¼©æ”¾æ¯”ä¾‹ = 1/inSampleSizeã€‚å’Œå›¾ç‰‡çš„å®½é«˜åŠåƒç´ æˆæ­£æ¯”ã€‚inPreferQualityOverSpeed:ä¸ºtrueåˆ™ä¼˜å…ˆä¿è¯Bitmapè´¨é‡å…¶æ¬¡æ˜¯è§£ç é€Ÿåº¦inMutable:å¦‚æœè®¾ç½®ä¸ºtrue,å°†è¿”å›ä¸€ä¸ªmutableçš„bitmap,å¯ç”¨äºä¿®æ”¹BitmapFactoryåŠ è½½è€Œæ¥çš„bitmap.inBitmap ï¼šAPI Level 11å¼€å§‹ã€‚ä¼˜åŒ–Bitmapçš„å†…å­˜ä½¿ç”¨/â€”-å¦‚æœInBitmapProvider ä¸ä¸ºç©ºâ€”-è®¡ç®—å½“å‰åƒç´  æ ¹æ®ç¼©æ”¾æ¯”ä¾‹è®¡ç®—â€”-æ ¹æ®åƒç´ è·å–å›¾ç‰‡â€”-æ ¹æ®åƒç´ è·å–å›¾ç‰‡â€”-å¦‚æœå›¾ç‰‡ä¸ä¸ºç©ºè®¾ç½® inBitmap ä¼˜åŒ–å†…å­˜â€”-æ ¹æ®optsåŠ è½½é¢„è§ˆå›¾ç‰‡â€”-æ ¡éªŒå›¾ç‰‡æ˜¯å¦èƒ½åº”ç”¨åœ¨GL surfaceä¸Š/GLUitls ä½¿ç”¨äº†getInternalFormat(mPreview) ä½¿ç”¨äº†getType(mPreview)**/â€”-è¿”å›åŠ è½½çŠ¶æ€-&gt;&gt;&gt;&gt; loadInBackground ç»“æŸ-&gt;&gt; æ ¹æ®req.srcå®ä¾‹åŒ–è¿”å›ç»“æœBitmapRegionTileSourceâ€”â€“BitmapRegionTileSourceâ€”â€“è·å–å¹³é“ºå°ºå¯¸â€”â€“è·å–æ—‹è½¬è§’åº¦â€”â€“è·å–å›¾ç‰‡å¹³é“ºè§£ç å™¨â€”â€“åˆå§‹åŒ– BitmapFactory.Optionsâ€”â€“è·å–é¢„è§ˆå›¾ç‰‡â€”â€“å®ä¾‹åŒ–çº¹ç†BitmapTexture -&gt;&gt; åˆ¤æ–­æ˜¯å¦åŠ è½½æˆåŠŸ Bitmap reusableBitmap = bitmapProvider.forPixelCount(expectedPixles); -&gt; mCropView å¯è§ å‚è€ƒåšå®¢","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"},{"name":"WallpaperPicker","slug":"WallpaperPicker","permalink":"https://blog.musiclake.cn/tags/WallpaperPicker/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"Android æºç Launcheræ¨¡å—åˆ†æ","slug":"æºç åˆ†æ/Launcher","date":"2017-12-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.449Z","comments":true,"path":"posts/a37bdd71.html","link":"","permalink":"https://blog.musiclake.cn/posts/a37bdd71.html","excerpt":"","text":"æçº²1.ä»€ä¹ˆæ˜¯Launcher ,Launcher2 å’Œ Launcher3çš„åŒºåˆ« 2.Android å¼€æœºå¯åŠ¨åˆ°Launcherè¿è¡Œçš„ä¸»è¦æµç¨‹ 3.Launcher ä¸»è¦ç±»ä»‹ç» 4.Launcher ä¸»è¦å¸ƒå±€xmlä»‹ç» 5.Launcher ä¸€èˆ¬ä¸»è¦éœ€ä¿®æ”¹çš„åœ°æ–¹ 6.Launcher åŠ¨ç”»ï¼Œwidgetç­‰ 7.Launcher ä¸»èœå•ç•Œé¢UI Launcherå¯åŠ¨çš„ä¸»è¦æµç¨‹æ‰‹æœºå¼€æœº-&gt;initè¿›ç¨‹-&gt;zygoteè¿›ç¨‹-&gt;SystemServer-&gt;ActivityManagerService-&gt;Launcher initè¿›ç¨‹: 1.åˆ›å»ºä¸€äº›æ–‡ä»¶å¤¹å¹¶æŒ‚è½½è®¾å¤‡2.åˆå§‹åŒ–å’Œå¯åŠ¨å±æ€§æœåŠ¡3.è§£æinit.rcé…ç½®æ–‡ä»¶å¹¶å¯åŠ¨zygoteè¿›ç¨‹ åˆå§‹åŒ–initè¿›ç¨‹system/core/init/init.cppå¯åŠ¨zygoteè¿›ç¨‹system/core/rootdir/root.rc{import /init.${ro.zygote}.rc}ä¸åŒçš„å¹³å°ï¼ˆ32ã€64åŠ64_32ï¼‰system/core/rootdir/init.zygote64.rc zygoteè¿›ç¨‹:zygote è¿›ç¨‹åœ¨åˆå§‹åŒ–æ—¶ä¼šå¯åŠ¨è™šæ‹Ÿæœºï¼Œå¹¶åŠ è½½ä¸€äº›ç³»ç»Ÿèµ„æºã€‚è¿™æ · zygote fork å‡ºå­è¿›ç¨‹åï¼Œå­è¿›ç¨‹ä¹Ÿç»§æ‰¿äº†èƒ½æ­£å¸¸å·¥ä½œçš„è™šæ‹Ÿæœºå’Œå„ç§ç³»ç»Ÿèµ„æºï¼Œæ¥ä¸‹æ¥åªéœ€è£…è½½ apk æ–‡ä»¶çš„å­—èŠ‚ç å°±å¯ä»¥è¿è¡Œåº”ç”¨ç¨‹åºäº†ï¼Œå¯ä»¥å¤§å¤§ç¼©çŸ­åº”ç”¨çš„å¯åŠ¨æ—¶é—´ï¼Œè¿™å°±æ˜¯ zygote è¿›ç¨‹çš„ä¸»è¦ä½œç”¨ã€‚ SystemServerï¼š1.å¯åŠ¨Binderçº¿ç¨‹æ± ï¼Œè¿™æ ·å°±å¯ä»¥ä¸å…¶ä»–è¿›ç¨‹è¿›è¡Œé€šä¿¡ã€‚2.åˆ›å»ºSystemServiceManagerç”¨äºå¯¹ç³»ç»Ÿçš„æœåŠ¡è¿›è¡Œåˆ›å»ºã€å¯åŠ¨å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚3.å¯åŠ¨å„ç§ç³»ç»ŸæœåŠ¡ã€‚ LauncherLauncherå¯åŠ¨ 1.Launcher.java:launcherä¸­ä¸»è¦çš„activityã€‚ç³»ç»Ÿç¬¬ä¸€ä¸ªå¯åŠ¨çš„åº”ç”¨ç¨‹åº,åœ¨AndroidManifest.xmlä¸­å®šä¹‰äº† 2.LauncherApplication.java:åº”ç”¨ç¨‹åºå…¨å±€åˆå§‹åŒ–ç±»,åˆ›å»ºå…¨å±€ä½¿ç”¨çš„åº”ç”¨ç¨‹åºç¼“å­˜å™¨Iconcacheï¼Œåˆ›å»ºå…¨å±€ä½¿ç”¨çš„æ•°æ®åº“åŠ è½½ç±»LauncherModelï¼Œæ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ï¼Œæ³¨å†Œæ•°æ®åº“å˜åŒ–ç›‘å¬å™¨ (åœ¨AndroidManifest.xmlå®šä¹‰çš„Application) 3.IconCache.java:åº”ç”¨ç¨‹åºç¼“å­˜å™¨,é€šè¿‡ä¸€ä¸ªHashMap&lt;ComponentName,CacheEntry&gt; mcacheæ¥ç¼“å­˜åº”ç”¨ç¨‹åºä¿¡æ¯ã€‚å†…éƒ¨ç±»CachEntryå¯¹åº”å­˜å‚¨åº”ç”¨ç¨‹åºçš„åŸºæœ¬ä¿¡æ¯ã€‚makeDefaultIconæ¥åˆ›å»ºé»˜è®¤çš„åº”ç”¨ç¨‹åºå›¾æ ‡ 4.LauncherModel.java:æ¨¡å‹æ–‡ä»¶,å°è£…äº†å¯¹æ•°æ®åº“çš„æ“ä½œã€‚åŒ…å«å‡ ä¸ªçº¿ç¨‹ï¼ŒåŠ è½½æ‰€æœ‰åº”ç”¨ç¨‹åºå’Œworkspaceçš„æ—¶å€™ä½¿ç”¨(loadAndBindAllAppsï¼ŒloadAndBindWorkspace)ã€‚å…¶ä»–çš„å‡½æ•°å°±æ˜¯å¯¹æ•°æ®åº“çš„å°è£…ï¼Œæ¥å£Callbacksæä¾›åŠ è½½ç¨‹åºå’Œå¿«æ·æ–¹å¼çš„æŠ½è±¡æ–¹æ³•ã€‚ 5.LauncherProvider.java:launcherçš„æ•°æ®åº“ï¼Œé‡Œé¢å­˜å‚¨äº†æ¡Œé¢çš„itemçš„ä¿¡æ¯ã€‚åœ¨åˆ›å»ºæ•°æ®åº“çš„æ—¶å€™ä¼šè°ƒç”¨loadFavorites(db)æ–¹æ³•ï¼Œè§£æxmlç›®å½•ä¸‹çš„default_workspace.xmlæ–‡ä»¶ï¼ŒæŠŠå…¶ä¸­çš„å†…å®¹è¯»å‡ºæ¥å†™åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ ·å°±å¾—åˆ°äº†é»˜è®¤æ¡Œé¢çš„é…ç½®ã€‚ 6.ItemInfo.java:å¯¹itemçš„æŠ½è±¡ï¼Œæ‰€æœ‰ç±»å‹itemçš„çˆ¶ç±»ï¼ŒitemåŒ…å«çš„å±æ€§æœ‰idï¼ˆæ ‡è¯†itemçš„idï¼‰,cellX(åœ¨æ¨ªå‘ä½ç½®ä¸Šçš„ä½ç½®ï¼Œä»0å¼€å§‹),cellYï¼ˆåœ¨çºµå‘ä½ç½®ä¸Šçš„ä½ç½®ï¼Œä»0å¼€å§‹ï¼‰ ,spanXï¼ˆåœ¨æ¨ªå‘ä½ç½®ä¸Šæ‰€å çš„å•ä½æ ¼ï¼‰,spanYï¼ˆåœ¨çºµå‘ä½ç½®ä¸Šæ‰€å çš„å•ä½æ ¼ï¼‰,screenï¼ˆåœ¨workspaceçš„ç¬¬å‡ å±ï¼Œä»0å¼€å§‹ï¼‰,itemTypeï¼ˆ4ç§itemç±»å‹ï¼Œæœ‰widgetï¼Œuser_folderï¼Œapplicationï¼Œshortcutï¼‰,containerï¼ˆä¸‰ç§itemå­˜æ”¾çš„åœ°æ–¹desktop,application,user_folderï¼‰ã€‚ 7.Workspace.java:æŠ½è±¡çš„æ¡Œé¢ã€‚ç”±Nä¸ªcellLayoutç»„æˆ, ä»cellLayoutæ›´é«˜ä¸€çº§çš„å±‚é¢ä¸Šå¯¹äº‹ä»¶çš„å¤„ç†ã€‚Launcher.javaä¸­é€šè¿‡bindItemsæ·»åŠ cellLayout.å®ç°äº†DropTarget, DragSource, DragScrollerã€‚æ—¢æ˜¯æ‹–æ‹½æºï¼Œåˆæ˜¯æ‹–æ‹½ç›®çš„åœ°ï¼Œè¿˜å¯ä»¥å·¦å³æ‹–åŠ¨ã€‚ 8.CellLayout.javaï¼šæ¡Œé¢çš„æŸä¸€å±ã€‚æ˜¯ç»„æˆworkspaceçš„view,è¢«åˆ’åˆ†æˆ4X4çš„cellç©ºé—´ï¼Œç”¨boolean[][]mOccupiedæ¥æ ‡è¯†æ¯ä¸ªcellæ˜¯å¦è¢«å ç”¨. 9.AllApp2D.java:æ˜¾ç¤ºå’Œå­˜å‚¨åº”ç”¨ç¨‹åºåˆ—è¡¨çš„è§†å›¾ã€‚ã€‚androidè‡ªå¸¦çš„AllApp2DåŒ…æ‹¬ä¸€ä¸ªGridViewå’Œä¸€ä¸ªHomeButtonï¼ŒMTKä¿®æ”¹æˆPagerControlï¼ŒHorizontalPagerå’Œ4ä¸ªimageviewã€‚ 10.HorizontalPager.java:AllApp2Dä¸­é—´çš„ç½‘æ ¼æ§ä»¶ã€‚ç”±Nä¸ªGridViewç»„æˆ,AllApps2D.javaä¸­é€šè¿‡addGridViewæ·»åŠ GridViewã€‚ 11.DeleteZone.java:åˆ é™¤æ¡†ã€‚åœ¨å¹³æ—¶æ˜¯å‡ºäºéšè—çŠ¶æ€ï¼Œåœ¨å°†itemé•¿æŒ‰æ‹–åŠ¨çš„æ—¶å€™ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå¦‚æœå°†itemæ‹–åŠ¨åˆ°åˆ é™¤æ¡†ä½ç½®æ—¶ä¼šåˆ é™¤itemã€‚DeleteZoneå®ç°äº†DropTargetå’ŒDragListenerä¸¤ä¸ªæ¥å£ã€‚ DragLayer.java:launcher.xmlçš„rootviewã€‚DragLayerå®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡çš„ç•Œé¢ï¼Œç”¨æ¥å¤„ç†æ‹–åŠ¨å’Œå¯¹äº‹ä»¶è¿›è¡Œåˆæ­¥å¤„ç†ç„¶åæŒ‰æƒ…å†µåˆ†å‘ä¸‹å»ï¼Œè§’è‰²æ˜¯ä¸€ä¸ªDragControllerã€‚å®ƒé¦–å…ˆç”¨onInterceptTouchEvent(MotionEvent)æ¥æ‹¦æˆªæ‰€æœ‰çš„touchäº‹ä»¶ï¼Œå¦‚æœæ˜¯é•¿æŒ‰itemæ‹–åŠ¨çš„è¯ä¸æŠŠäº‹ä»¶ä¼ ä¸‹å»ï¼Œç›´æ¥äº¤ç”±onTouchEvent()å¤„ç†ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°itemçš„ç§»åŠ¨äº†ï¼Œå¦‚æœä¸æ˜¯æ‹–åŠ¨itemçš„è¯å°±æŠŠäº‹ä»¶ä¼ åˆ°ç›®æ ‡viewï¼Œäº¤æœ‰ç›®æ ‡viewçš„äº‹ä»¶å¤„ç†å‡½æ•°åšç›¸åº”å¤„ç†ã€‚ DragController.java:ä¸ºæ‹–æ‹½å®šä¹‰çš„ä¸€ä¸ªæ¥å£ã€‚åŒ…å«ä¸€ä¸ªæ¥å£,ä¸€ä¸ªæ–¹æ³•å’Œä¸¤ä¸ªé™æ€å¸¸é‡ã€‚ æ¥å£ä¸ºDragListenerï¼ˆåŒ…å«onDragStart()ï¼ŒonDragEnd()ä¸¤ä¸ªå‡½æ•°ï¼‰, onDragStart()æ˜¯åœ¨åˆšå¼€å§‹æ‹–åŠ¨çš„æ—¶å€™è¢«è°ƒç”¨ï¼Œ onDragEnd()æ˜¯åœ¨æ‹–åŠ¨å®Œæˆæ—¶è¢«è°ƒç”¨ã€‚ åœ¨launcherä¸­å…¸å‹çš„åº”ç”¨æ˜¯DeleteZoneï¼Œåœ¨é•¿æŒ‰æ‹–åŠ¨itemæ—¶è°ƒç”¨onDragStart()æ˜¾ç¤ºï¼Œåœ¨æ‹–åŠ¨ç»“æŸçš„æ—¶å€™è°ƒç”¨onDragEnd()éšè—ã€‚ ä¸€ä¸ªå‡½æ•°åŒ…æ‹¬ç”¨äºåœ¨æ‹–åŠ¨æ˜¯ä¼ é€’è¦æ‹–åŠ¨çš„itemçš„ä¿¡æ¯ä»¥åŠæ‹–åŠ¨çš„æ–¹å¼ ä¸¤ä¸ªå¸¸é‡ä¸ºDRAG_ACTION_MOVEï¼ŒDRAG_ACTION_COPYæ¥æ ‡è¯†æ‹–åŠ¨çš„æ–¹å¼ï¼ŒDRAG_ACTION_MOVEä¸ºç§»åŠ¨ï¼Œè¡¨ç¤ºåœ¨æ‹–åŠ¨çš„æ—¶å€™éœ€è¦åˆ é™¤åŸæ¥çš„itemï¼Œ DRAG_ACTION_COPYä¸ºå¤åˆ¶å‹çš„æ‹–åŠ¨ï¼Œè¡¨ç¤ºä¿ç•™è¢«æ‹–åŠ¨çš„itemã€‚ 14.UserFolder.java: ç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶å¤¹ã€‚å®ç°äº†DropTargetï¼Œæ˜¯æ‹–æ‹½ç›®çš„åœ°ï¼Œå¯ä»¥å°†itemæ‹–è¿›æ–‡ä»¶å¤¹ï¼Œå•å‡»æ—¶æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæš‚ä¸èƒ½å¤„å¯ä»¥é‡å‘½åæ–‡ä»¶å¤¹ã€‚ 15.LiveFolder.java:ç³»ç»Ÿè‡ªå¸¦çš„æ–‡ä»¶å¤¹ã€‚ä»ç³»ç»Ÿä¸­åˆ›å»ºå‡ºçš„æ‰€æœ‰è”ç³»äººçš„æ–‡ä»¶å¤¹ç­‰ã€‚ 16.AddAdapter.java:é•¿æŒ‰æ¡Œé¢å¼¹å‡ºçš„â€æ·»åŠ åˆ°ä¸»å±å¹•â€å¯¹è¯æ¡†æ‰€å¯¹åº”çš„é€‚é…å™¨ã€‚ã€‚ 17.ShortcutAdapter.java:æ·»åŠ å¿«æ·æ–¹å¼çš„å¯¹è¯æ¡†æ‰€å¯¹åº”çš„é€‚é…å™¨ 18.LauncherSettings.java:æ•°æ®åº“é¡¹çš„å­—ç¬¦ä¸²å®šä¹‰ï¼Œ","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"https://blog.musiclake.cn/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"},{"name":"Launcher","slug":"Launcher","permalink":"https://blog.musiclake.cn/tags/Launcher/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"å•ä¾‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/å•ä¾‹æ¨¡å¼","date":"2017-11-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.451Z","comments":true,"path":"posts/f1601c3e.html","link":"","permalink":"https://blog.musiclake.cn/posts/f1601c3e.html","excerpt":"","text":"å‰è¨€è¯´å®è¯ç½‘ä¸Šæœ‰å¾ˆå¤šä»‹ç»ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±åœ¨å†™ä¸€éå‘¢ï¼Ÿå› ä¸ºåœ¨ç½‘ä¸Šçœ‹ä¸€éå®¹æ˜“å¿˜æ‰ï¼Œå¦‚æœè‡ªå·±å†é‡æ–°å†™ä¸€éï¼Œå°è±¡ä¼šæ·±ä¸€ç‚¹ã€‚ ç®€ä»‹å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ Java ä¸­æœ€ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚è¿™ç§æ¨¡å¼æ¶‰åŠåˆ°ä¸€ä¸ªå•ä¸€çš„ç±»ï¼Œè¯¥ç±»è´Ÿè´£åˆ›å»ºè‡ªå·±çš„å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿åªæœ‰å•ä¸ªå¯¹è±¡è¢«åˆ›å»ºã€‚è¿™ä¸ªç±»æä¾›äº†ä¸€ç§è®¿é—®å…¶å”¯ä¸€çš„å¯¹è±¡çš„æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼Œä¸éœ€è¦å®ä¾‹åŒ–è¯¥ç±»çš„å¯¹è±¡ã€‚ ç®€å•çš„è¯´å°±æ˜¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹åŒ–åªå®ä¾‹åŒ–ä¸€æ¬¡ã€‚ è¿ç”¨å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹å¼æœ‰ 1ã€é¥¿æ±‰å¼ å¤šçº¿ç¨‹å®‰å…¨æè¿°ï¼šè¿™ç§æ–¹å¼æ¯”è¾ƒå¸¸ç”¨ï¼Œä½†å®¹æ˜“äº§ç”Ÿåƒåœ¾å¯¹è±¡ã€‚ä¼˜ç‚¹ï¼šæ²¡æœ‰åŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæé«˜ã€‚ç¼ºç‚¹ï¼šç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œæµªè´¹å†…å­˜ã€‚ public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; return instance; &#125; &#125; 2ã€æ‡’æ±‰å¼ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„æ¡ä»¶ä¹Ÿå¯ä»¥åˆ†ç±»ä¼˜ç‚¹ï¼šæ²¡æœ‰åŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæé«˜ã€‚ç¼ºç‚¹ï¼šç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œæµªè´¹å†…å­˜ã€‚ æ‡’æ±‰å¼ï¼Œçº¿ç¨‹ä¸å®‰å…¨å› ä¸ºæ²¡æœ‰åŠ é” synchronizedï¼Œæ‰€ä»¥å®ƒæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚ public class Singleton &#123; private static Singleton instance; private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125; æ‡’æ±‰å¼ï¼Œçº¿ç¨‹å®‰å…¨å¢åŠ åŒæ­¥é”ï¼Œèƒ½å¤Ÿåœ¨å¤šçº¿ç¨‹ä¸­å¾ˆå¥½çš„å·¥ä½œï¼Œä½†æ˜¯ï¼Œæ•ˆç‡å¾ˆä½ï¼Œ99% æƒ…å†µä¸‹ä¸éœ€è¦åŒæ­¥ã€‚ä¼˜ç‚¹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨æ‰åˆå§‹åŒ–ï¼Œé¿å…å†…å­˜æµªè´¹ã€‚ä¼˜ç‚¹ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨æ‰åˆå§‹åŒ–ï¼Œé¿å…å†…å­˜æµªè´¹ã€‚ç¼ºç‚¹ï¼šå¿…é¡»åŠ é” synchronized æ‰èƒ½ä¿è¯å•ä¾‹ï¼Œä½†åŠ é”ä¼šå½±å“æ•ˆç‡ã€‚getInstance() çš„æ€§èƒ½å¯¹åº”ç”¨ç¨‹åºä¸æ˜¯å¾ˆå…³é”®ï¼ˆè¯¥æ–¹æ³•ä½¿ç”¨ä¸å¤ªé¢‘ç¹ï¼‰ public class Singleton &#123; private static Singleton instance; private Singleton ()&#123;&#125; public static synchronized Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125; 3ã€åŒæ£€é”/åŒé‡æ ¡éªŒé”ï¼ˆDCLï¼Œå³ double-checked lockingï¼‰è¿™ç§æ–¹å¼é‡‡ç”¨åŒé”æœºåˆ¶ï¼Œå®‰å…¨ä¸”åœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹èƒ½ä¿æŒé«˜æ€§èƒ½ã€‚ public class Singleton &#123; private volatile static Singleton singleton; private Singleton ()&#123;&#125; public static Singleton getSingleton() &#123; if (singleton == null) &#123; synchronized (Singleton.class) &#123; if (singleton == null) &#123; singleton = new Singleton(); &#125; &#125; &#125; return singleton; &#125; &#125; é—®é¢˜ï¼šä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªéç©ºåˆ¤æ–­é—®é¢˜ï¼šåŒæ£€é”å•ä¾‹çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆ4ã€ç™»è®°å¼/é™æ€å†…éƒ¨ç±»è¿™ç§æ–¹å¼èƒ½è¾¾åˆ°åŒæ£€é”æ–¹å¼ä¸€æ ·çš„åŠŸæ•ˆï¼Œä½†å®ç°æ›´ç®€å•ã€‚å¯¹é™æ€åŸŸä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–ï¼Œåº”ä½¿ç”¨è¿™ç§æ–¹å¼è€Œä¸æ˜¯åŒæ£€é”æ–¹å¼ã€‚è¿™ç§æ–¹å¼åªé€‚ç”¨äºé™æ€åŸŸçš„æƒ…å†µï¼ŒåŒæ£€é”æ–¹å¼å¯åœ¨å®ä¾‹åŸŸéœ€è¦å»¶è¿Ÿåˆå§‹åŒ–æ—¶ä½¿ç”¨ã€‚ public class Singleton &#123; private static class SingletonHolder &#123; private static final Singleton INSTANCE = new Singleton(); &#125; private Singleton ()&#123;&#125; public static final Singleton getInstance() &#123; return SingletonHolder.INSTANCE; &#125; &#125; 5ã€æšä¸¾æè¿°ï¼šè¿™ç§å®ç°æ–¹å¼è¿˜æ²¡æœ‰è¢«å¹¿æ³›é‡‡ç”¨ï¼Œä½†è¿™æ˜¯å®ç°å•ä¾‹æ¨¡å¼çš„æœ€ä½³æ–¹æ³•ã€‚å®ƒæ›´ç®€æ´ï¼Œè‡ªåŠ¨æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ã€‚è¿™ç§æ–¹å¼æ˜¯ Effective Java ä½œè€… Josh Bloch æå€¡çš„æ–¹å¼ï¼Œå®ƒä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜è‡ªåŠ¨æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œé˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç»å¯¹é˜²æ­¢å¤šæ¬¡å®ä¾‹åŒ–ã€‚ä¸è¿‡ï¼Œç”±äº JDK1.5 ä¹‹åæ‰åŠ å…¥ enum ç‰¹æ€§ï¼Œç”¨è¿™ç§æ–¹å¼å†™ä¸å…è®©äººæ„Ÿè§‰ç”Ÿç–ï¼Œåœ¨å®é™…å·¥ä½œä¸­ï¼Œä¹Ÿå¾ˆå°‘ç”¨ã€‚ä¸èƒ½é€šè¿‡ reflection attack æ¥è°ƒç”¨ç§æœ‰æ„é€ æ–¹æ³•ã€‚ public enum Singleton &#123; INSTANCE; public void whateverMethod() &#123; &#125; &#125; å‚è€ƒé“¾æ¥http://www.runoob.com/design-pattern/singleton-pattern.html","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"å®¢æˆ·åŒ–å®šåˆ¶å¼€æœºlogoã€å¼€æœºåŠ¨ç”»","slug":"Android/customer_logo","date":"2017-11-02T13:34:25.000Z","updated":"2022-05-05T09:56:06.444Z","comments":true,"path":"posts/17a37153.html","link":"","permalink":"https://blog.musiclake.cn/posts/17a37153.html","excerpt":"","text":"è®¾ç½®å¼€æœºlogoé«˜é€šå¹³å°1ã€ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„ LINUX/android/bootable/bootloader/lk/splash 2ã€å‡†å¤‡å¥½logoå›¾ç‰‡(pngã€bmpæ ¼å¼) 3ã€æŸ¥çœ‹ä¸­åŸå›¾ç‰‡çš„åˆ†è¾¨ç‡ï¼Œä¿®æ”¹logoå›¾ç‰‡*ä¿è¯åˆ†è¾¨ç‡ä¸€è‡´* 4ã€ç”Ÿæˆsplash.imgé•œåƒæ–‡ä»¶ ç”Ÿæˆsplash æ­¥éª¤ The steps to generate a splash.img: 1 sudo apt-get install python-imaging 2 python ./logo_gen.py boot_001.png (*.bmp) MTKå¹³å°1ã€ä¿®æ”¹çš„æ–‡ä»¶è·¯å¾„ vendor\\mediatek\\proprietary\\bootable\\bootloader\\lk\\dev\\logo 2ã€å‡†å¤‡å¥½logoå›¾ç‰‡(bmpæ ¼å¼) 3ã€æŸ¥çœ‹ä¸­åŸå›¾ç‰‡çš„åˆ†è¾¨ç‡ï¼Œä¿®æ”¹logoå›¾ç‰‡*ä¿è¯åˆ†è¾¨ç‡ä¸€è‡´*æ›¿æ¢ç›¸åº”æ ¼å¼çš„logo è®¾ç½®å¼€å…³æœºåŠ¨ç”»é¦–å…ˆè‡ªå·±åˆ¶ä½œå¼€å…³æœºåŠ¨ç”»åŒ…ï¼Œå¦‚æœæœ‰ç°æˆçš„å‹ç¼©åŒ…é‚£å°±ä¸ç”¨äº†ï¼Œå‹ç¼©åŒ…çš„å‹ç¼©æ–¹å¼å¿…é¡»æ˜¯å­˜å‚¨æ–¹å¼çš„zipæ ¼å¼å‹ç¼©ã€‚ bootanimation.zip shutdownanimation.zip å‹ç¼©åŒ…ä¸­æœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹part0ã€part1å’Œdesc.txtæ–‡ä»¶ part0å’Œpart1ä¸­ä¸»è¦å­˜æ”¾ä¸€äº›å¼€æœºåŠ¨ç”»çš„å¸§å›¾ç‰‡ desc.txtä¸­å†…å®¹å¦‚ä¸‹ 720 1680 15 p 1 0 part1 p 0 0 part0 720 1680 ä»£è¡¨å¼€æœºåŠ¨ç”»å›¾ç‰‡åˆ†è¾¨ç‡ 15 ä»£è¡¨æ’­æ”¾é€Ÿåº¦ã€‚15 å¸§æ¯ç§’ p 1ï¼ˆä»£è¡¨ç€æ’­æ”¾ä¸€æ¬¡ï¼‰ 0ï¼ˆç©ºæŒ‡ä»¤ï¼‰part1 ä»£è¡¨è¿™part1æ–‡ä»¶å¤¹å†…çš„å›¾ç‰‡åªæŒ‰åç§°é¡ºåºæ’­æ”¾ä¸€æ¬¡ p 0ï¼ˆä»£è¡¨ç€æ’­æ”¾ä¸€æ¬¡ï¼‰ 0ï¼ˆç©ºæŒ‡ä»¤ï¼‰part0 ä»£è¡¨è¿™part0æ–‡ä»¶å¤¹å†…çš„å›¾ç‰‡åªæŒ‰åç§°é¡ºåºå¾ªç¯æ’­æ”¾ç›´åˆ°ç»“æŸ é¢„è§ˆï¼šå¿…é¡»åœ¨å·²ç»rootçš„æ‰‹æœºä¸‹æ‰èƒ½æ›¿æ¢ã€‚ //è¿›å…¥rootæƒé™ adb root adb remount adb shell //è¿›å…¥å¼€å…³æœºåŠ¨ç”»å­˜æ”¾ç›®å½• cd system/media //åˆ é™¤æ‰‹æœºåŸå…ˆçš„å¼€å…³æœºåŠ¨ç”» rm bootanimation.zip rm shutdownanimation.zip //å°†å¼€å…³æœºåŠ¨ç”»pushåˆ°æ‰‹æœº adb push æ–‡ä»¶è·¯å¾„ system/media æœ€åé‡å¯æ‰‹æœºå³å¯çœ‹åˆ°æ•ˆæœAndroid æºä»£ç ä¸­æ›¿æ¢å¼€å…³æœºå‹ç¼©åŒ… é«˜é€šå¹³å° LINUX/android/vendor/qcom/proprietary/qrdplus/Extension/apps/BootAnimation MTKå¹³å° framework/base/data/sounds","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"å®šåˆ¶","slug":"å®šåˆ¶","permalink":"https://blog.musiclake.cn/tags/%E5%AE%9A%E5%88%B6/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"ä»£ç†æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/ä»£ç†æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.451Z","comments":true,"path":"posts/7b510e10.html","link":"","permalink":"https://blog.musiclake.cn/posts/7b510e10.html","excerpt":"","text":"ä»£ç†æ¨¡å¼ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ä¹Ÿç§°ä¸ºå§”æ‰˜æ¨¡å¼ã€‚æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚ å®šä¹‰ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—® ä½¿ç”¨åœºæ™¯å½“æ— æ³•æˆ–ä¸æƒ³ç›´æ¥è®¿é—®æŸä¸ªå¯¹è±¡æˆ–è®¿é—®æŸä¸ªå¯¹è±¡å­˜åœ¨å›°éš¾æ—¶å¯ä»¥é€šè¿‡ä¸€ä¸ªä»£ç†å¯¹è±¡æ¥é—´æ¥è®¿é—®ï¼Œä¸ºäº†ä¿è¯å®¢æˆ·ç«¯ä½¿ç”¨çš„é€æ˜æ€§ï¼Œå§”æ‰˜å¯¹è±¡ä¸ä»£ç†å¯¹è±¡éœ€è¦å®ç°ç›¸åŒçš„æ¥å£ ç®€å•å®ç°1ã€é™æ€ä»£ç†2ã€åŠ¨æ€ä»£ç†Java æä¾›äº†ä¸€ä¸ªä¾¿æ·çš„åŠ¨æ€ä»£ç†æ¥å£ï¼ŒInvocationHandler. Android çš„è·¨è¿›ç¨‹é€šä¿¡æœºåˆ¶ä¸AIDLBinder å››ä¸ªä¸»è¦æ¨¡å—ï¼šBinder Clientã€Binder Serverã€ServerManagerå’ŒBinder Driverã€‚ä¸€å…ˆåˆ›å»ºä¸€ä¸ªæ¥å£xäºŒç»§æ‰¿Binderåˆ›å»ºä¸€ä¸ªBinderå­ç±»å¹¶å®ç°æ¥å£X.ä¸‰ç»§æ‰¿Serviceåˆ›å»ºä¸€ä¸ªServiceå­ç±»æ¥è¡¨ç¤ºæœåŠ¡ç«¯ã€‚é‡å†™onBindæ–¹æ³•è¿”å›ä¸€ä¸ªIBinderå¯¹è±¡ã€‚å››å®¢æˆ·ç«¯Activityå®ç°ã€‚ â€”-è·¨è¿›ç¨‹å®šä¹‰ä¸€ä¸ªé¢å¤–è¿›ç¨‹çš„Serviceã€‚ä½¿ç”¨åˆšåˆšçš„æ–¹æ³•ä¼šæŠ¥ä¸€ä¸ªç±»å‹è½¬æ¢çš„é”™è¯¯ã€‚ä½¿ç”¨AIDLå®šä¹‰æ¥å£ã€‚ç»“æœä¸€æ ·ã€‚ AIDLç›¸å½“äº Binder Serverã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/æ¨¡æ¿æ–¹æ³•æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.451Z","comments":true,"path":"posts/ecc6414b.html","link":"","permalink":"https://blog.musiclake.cn/posts/ecc6414b.html","excerpt":"","text":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼å®šä¹‰å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„æ¡†æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ï¼Œä½¿å­ç±»å¯ä»¥ä¸æ”¹é¢ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚##ä½¿ç”¨åœºæ™¯1ã€å¤šä¸ªå­ç±»æœ‰å…¬æœ‰æ–¹æ³•ï¼Œå¹¶ä¸”é€»è¾‘åŸºæœ¬ç›¸åŒæ—¶ã€‚2ã€é‡è¦ã€å¤æ‚çš„ç®—æ³•ï¼Œå¯ä»¥å§æ ¸å¿ƒç®—æ³•è®¾è®¡ä¸ºæ¨¡æ¿æ–¹æ³•ï¼Œå‘¨è¾¹çš„ç›¸å…³ç»†èŠ‚åŠŸèƒ½åˆ™ç”±å„ä¸ªå­ç±»å®ç°ã€‚3ã€é‡æ„æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ä¸ªç»å¸¸ä½¿ç”¨çš„æ¨¡å¼ï¼ŒæŠŠç›¸åŒçš„ä»£ç æŠ½å–å¸¦çˆ¶ç±»ä¸­ï¼Œç„¶åé€šè¿‡é’©å­å‡½æ•°çº¦æŸå…¶è¡Œä¸ºã€‚ ç¤ºä¾‹package com.dp.example.templatemethod; /** * æŠ½è±¡çš„Computer * @author mrsimple * */ public abstract class AbstractComputer &#123; protected void powerOn() &#123; System.out.println(&quot;å¼€å¯ç”µæº&quot;); &#125; protected void checkHardware() &#123; System.out.println(&quot;ç¡¬ä»¶æ£€æŸ¥&quot;); &#125; protected void loadOS() &#123; System.out.println(&quot;è½½å…¥æ“ä½œç³»ç»Ÿ&quot;); &#125; protected void login() &#123; System.out.println(&quot;å°ç™½çš„ç”µè„‘æ— éªŒè¯ï¼Œç›´æ¥è¿›å…¥ç³»ç»Ÿ&quot;); &#125; /** * å¯åŠ¨ç”µè„‘æ–¹æ³•, æ­¥éª¤å›ºå®šä¸ºå¼€å¯ç”µæºã€ç³»ç»Ÿæ£€æŸ¥ã€åŠ è½½æ“ä½œç³»ç»Ÿã€ç”¨æˆ·ç™»å½•ã€‚è¯¥æ–¹æ³•ä¸ºfinalï¼Œ é˜²æ­¢ç®—æ³•æ¡†æ¶è¢«è¦†å†™. */ public final void startUp() &#123; System.out.println(&quot;------ å¼€æœº START ------&quot;); powerOn(); checkHardware(); loadOS(); login(); System.out.println(&quot;------ å¼€æœº END ------&quot;); &#125; &#125; package com.dp.example.templatemethod; /** * ç å†œçš„è®¡ç®—æœº * * @author mrsimple */ public class CoderComputer extends AbstractComputer &#123; @Override protected void login() &#123; System.out.println(&quot;ç å†œåªéœ€è¦è¿›è¡Œç”¨æˆ·å’Œå¯†ç éªŒè¯å°±å¯ä»¥äº†&quot;); &#125; &#125; package com.dp.example.templatemethod; /** * å†›ç”¨è®¡ç®—æœº * * @author mrsimple */ public class MilitaryComputer extends AbstractComputer &#123; @Override protected void checkHardware() &#123; super.checkHardware(); System.out.println(&quot;æ£€æŸ¥ç¡¬ä»¶é˜²ç«å¢™&quot;); &#125; @Override protected void login() &#123; System.out.println(&quot;è¿›è¡ŒæŒ‡çº¹ä¹‹åˆ«ç­‰å¤æ‚çš„ç”¨æˆ·éªŒè¯&quot;); &#125; &#125; package com.dp.example.templatemethod; public class Test &#123; public static void main(String[] args) &#123; AbstractComputer comp = new CoderComputer(); comp.startUp(); comp = new MilitaryComputer(); comp.startUp(); &#125; &#125; æ€»ç»“æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”¨å››ä¸ªå­—æ¦‚æ‹¬å°±æ˜¯ï¼šæµç¨‹å°è£…ã€‚çˆ¶ç±»æå–å…¬å…±ä»£ç ï¼Œæé«˜ä»£ç å¤ç”¨ç‡ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥äº†æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚ä¼˜ç‚¹ï¼šå°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†æå–å…¬å…±éƒ¨åˆ†ä»£ç ï¼Œä¾¿äºç»´æŠ¤ç¼ºç‚¹æ¨¡æ¿æ–¹æ³•ä¼šå¸¦æ¥ä»£ç é˜…è¯»çš„éš¾åº¦ï¼Œè®©ç”¨æˆ·è§‰å¾—éš¾ä»¥ç†è§£ã€‚","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"çŠ¶æ€æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/çŠ¶æ€æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/8acb1976.html","link":"","permalink":"https://blog.musiclake.cn/posts/8acb1976.html","excerpt":"","text":"çŠ¶æ€æ¨¡å¼çŠ¶æ€æ¨¡å¼ä¸­çš„è¡Œä¸ºæ˜¯ç”±çŠ¶æ€æ¥å†³å®šçš„ï¼Œä¸åŒçš„çŠ¶æ€ä¸‹æœ‰ä¸åŒçš„è¡Œä¸ºã€‚çŠ¶æ€æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼çš„æœºæ„å‡ ä¹å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯å®ƒä»¬çš„ç›®çš„ã€æœ¬è´¨å´å®Œå…¨ä¸ä¸€æ ·ã€‚çŠ¶æ€æ¨¡å¼çš„è¡Œä¸ºæ˜¯å¹³è¡Œçš„ã€ä¸å¯æ›¿ä»£çš„ï¼Œç­–ç•¥æ¨¡å¼çš„è¡Œä¸ºæ˜¯å½¼æ­¤ç‹¬ç«‹ã€å¯ç›¸äº’æ›¿æ¢çš„ã€‚ç”¨ä¸€å¥è¯æ¥è¡¨è¿°ï¼ŒçŠ¶æ€æ¨¡å¼æŠŠå¯¹è±¡çš„è¡Œä¸ºåŒ…è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡é‡Œï¼Œæ¯ä¸€ä¸ªçŠ¶æ€å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„æŠ½è±¡çŠ¶æ€åŸºç±»ã€‚çŠ¶æ€æ¨¡å¼çš„æ„å›¾æ˜¯è®©ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™ï¼Œå…¶è¡Œä¸ºä¹Ÿéšä¹‹æ”¹å˜ã€‚ å®šä¹‰å½“ä¸€ä¸ªå¯¹è±¡çš„å†…åœ¨çŠ¶æ€æ”¹å˜æ—¶å…è®¸æ”¹å˜å…¶è¡Œä¸ºï¼Œè¿™ä¸ªå¯¹è±¡çœ‹èµ·æ¥åƒæ˜¯æ”¹å˜äº†å…¶ç±»ã€‚ ä½¿ç”¨åœºæ™¯1ã€ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚2ã€ä»£ç ä¸­åŒ…å«å¤§é‡ä¸å¯¹è±¡çŠ¶æ€ç›¸å…³çš„æ¡ä»¶è¯­å¥ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªæ“ä½œç±»ä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯è¯­å¥ï¼ˆif-else æˆ–è€…switch-caseï¼‰ï¼Œä¸”è¿™äº›åˆ†æ”¯ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚çŠ¶æ€æ¨¡å¼å°†æ¯ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯æ”¾å…¥ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥æ ¹æ®å¯¹è±¡è‡ªèº«çš„æƒ…å†µå°†å¯¹è±¡çš„çŠ¶æ€ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡å¯ä»¥ä¸ä¾èµ–ä¸å…¶ä»–å¯¹è±¡è€Œç‹¬ç«‹å˜åŒ–ï¼Œè¿™æ ·é€šè¿‡å¤šæ€æ¥å»é™¤è¿‡å¤šçš„ï¼Œé‡å¤çš„if-elseç­‰åˆ†æ”¯è¯­å¥ã€‚ å®æˆ˜ç”¨æˆ·ç™»å½•ç³»ç»Ÿ","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"ç»„åˆæ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/ç»„åˆæ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/df879792.html","link":"","permalink":"https://blog.musiclake.cn/posts/df879792.html","excerpt":"","text":"ç»„åˆæ¨¡å¼å®šä¹‰å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ ä½¿ç”¨åœºæ™¯è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„æ—¶ã€‚ä»ä¸€ä¸ªæ•´ä½“ä¸­èƒ½ç‹¬ç«‹å‡ºéƒ¨åˆ†æ¨¡å—æˆ–åŠŸèƒ½çš„åœºæ™¯ã€‚ ç®€å•å®ç°å°ç»“ç”¨åˆ°çš„æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬æ›´é€‚ç”¨äºå¯¹ä¸€äº›ç•Œé¢UIçš„æ¶æ„è®¾è®¡ä¸Šã€‚ä¼˜ç‚¹ç»„åˆæ¨¡å¼å¯ä»¥æ¸…æ¥šåœ°å®šä¹‰åˆ†å±‚æ¬¡çš„å¤æ‚å¯¹è±¡ï¼Œè¡¨ç¤ºå¯¹è±¡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±‚æ¬¡ï¼Œå®ƒè®©é«˜å±‚æ¨¡å—å¿½ç•¥äº†å±‚æ¬¡çš„å·®å¼‚ï¼Œç®€åŒ–äº†é«˜å±‚æ¨¡å—çš„ä»£ç ã€‚ç¼ºç‚¹","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¿é—®è€…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è§‚å¯Ÿè€…æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/64b51ed9.html","link":"","permalink":"https://blog.musiclake.cn/posts/64b51ed9.html","excerpt":"","text":"1.è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰é‡Šä¹‰ï¼šè§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œè®©å¤šä¸ªè§‚å¯Ÿè€…å¯¹è±¡åŒæ—¶ç›‘å¬æŸä¸€ä¸ªä¸»é¢˜å¯¹è±¡ï¼Œè¿™ä¸ªä¸»é¢˜å¯¹è±¡åœ¨çŠ¶æ€ä¸Šå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿè‡ªåŠ¨æ›´æ–°è‡ªå·±ã€‚æ•…äº‹ç†è§£ï¼šè§‚å¯Ÿè€…æƒ³çŸ¥é“å…¬å¸æ‰€æœ‰MMçš„æƒ…å†µï¼Œåªè¦åŠ å…¥å…¬å¸çš„MMæƒ…æŠ¥é‚®ä»¶ç»„å°±è¡Œäº†ï¼Œtomè´Ÿè´£æœé›†æƒ…æŠ¥ï¼Œå½“å‘ç°æ–°æƒ…æŠ¥æ—¶ï¼Œä¸ç”¨ä¸€ä¸ªä¸€ä¸ªé€šçŸ¥æˆ‘ä»¬ï¼Œç›´æ¥å‘å¸ƒç»™é‚®ä»¶ç»„ï¼Œæˆ‘ä»¬ä½œä¸ºè®¢é˜…è€…ï¼ˆè§‚å¯Ÿè€…ï¼‰å°±å¯ä»¥åŠæ—¶æ”¶åˆ°æƒ…æŠ¥å•¦ã€‚å¸¸è§å®ä¾‹ï¼š1.BaseAdapter.registerDataSetObserverå’ŒBaseAdapter.unregisterDataSetObserverä¸¤æ–¹æ³•æ¥å‘BaseAdateræ³¨å†Œã€æ³¨é”€ä¸€ä¸ªDataSetObserver ; 2.ä½¿ç”¨ContentObserverå»ç›‘å¬æ•°æ®åº“å˜åŒ–ã€‚é€‚ç”¨åœºæ™¯ï¼š1.å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡ï¼Œè€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜ï¼›2.å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶å®ƒå¯¹è±¡ï¼Œè€Œå®ƒåˆä¸èƒ½å‡å®šå…¶å®ƒå¯¹è±¡æ˜¯è°. è§‚å¯Ÿè€…æ¨¡å¼ä¸»è¦æœ‰è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…2ä¸ªå¯¹è±¡ï¼Œåœ¨è¯¥æ¨¡å¼ä¸­ï¼ŒObservableè¡¨ç¤ºè¢«è§‚å¯Ÿè€…ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚ Observerè¡¨ç¤ºè§‚å¯Ÿè€…ï¼Œä»–æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ‰€ä»¥è§‚å¯Ÿè€…å¯ä»¥æœ‰å¤šä¸ªï¼Œå®ç°äº†è¯¥æ¥å£çš„ç±»éƒ½æ˜¯å±äºè§‚å¯Ÿè€…ã€‚è¿™æ˜¯ç½‘ä¸Šä¸€ä¸ªç”ŸåŠ¨ç»†è‡´çš„demoï¼šè¢«è§‚å¯Ÿè€…ï¼š MyPersonæ˜¯è¢«è§‚å¯Ÿè€…ï¼Œç±»ä¸­è°ƒç”¨äº†setChange()ä»¥åŠnotifyObservers()ä¸¤ä¸ªæ–¹æ³•ï¼Œå‰è€…æ˜¯å‘ŠçŸ¥æ•°æ®æ”¹å˜ï¼Œåè€…æ˜¯å‘é€ä¿¡å·é€šçŸ¥è§‚å¯Ÿè€…ã€‚ è§‚å¯Ÿè€…éœ€è¦å®ç°Observeræ¥å£ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªupdateæ–¹æ³•ï¼Œå½“è§‚å¯Ÿè€…æ”¶åˆ° ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰çš„é€šçŸ¥ä¿¡å·ï¼Œå°±ä¼šæ‰§è¡Œè¯¥åŠ¨ä½œã€‚","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"è¿­ä»£å™¨æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è¿­ä»£å™¨æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/9055d217.html","link":"","permalink":"https://blog.musiclake.cn/posts/9055d217.html","excerpt":"","text":"","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"é€‚é…å™¨æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/é€‚é…å™¨æ¨¡å¼","date":"2017-10-13T06:00:16.000Z","updated":"2022-05-05T09:56:06.452Z","comments":true,"path":"posts/f5c535ea.html","link":"","permalink":"https://blog.musiclake.cn/posts/f5c535ea.html","excerpt":"","text":"å‰è¨€è¯´å®è¯ç½‘ä¸Šæœ‰å¾ˆå¤šä»‹ç»ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¿˜è¦è‡ªå·±åœ¨å†™ä¸€éå‘¢ï¼Ÿå› ä¸ºåœ¨ç½‘ä¸Šçœ‹ä¸€éå®¹æ˜“å¿˜æ‰ï¼Œå¦‚æœè‡ªå·±å†é‡æ–°å†™ä¸€éï¼Œå°è±¡ä¼šæ·±ä¸€ç‚¹ã€‚ ç®€ä»‹é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰æ˜¯ä½œä¸ºä¸¤ä¸ªä¸å…¼å®¹çš„æ¥å£ä¹‹é—´çš„æ¡¥æ¢ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºç»“æ„å‹æ¨¡å¼ï¼Œå®ƒç»“åˆäº†ä¸¤ä¸ªç‹¬ç«‹æ¥å£çš„åŠŸèƒ½ã€‚","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"keywords":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://blog.musiclake.cn/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}]},{"title":"RecyclerViewå’ŒListViewçš„åŒºåˆ«","slug":"Android/RecyclerViewå’ŒListViewçš„åŒºåˆ«","date":"2016-10-20T08:21:17.000Z","updated":"2022-05-05T09:56:06.444Z","comments":true,"path":"posts/befc3031.html","link":"","permalink":"https://blog.musiclake.cn/posts/befc3031.html","excerpt":"RecyclerViewæ˜¯ä»€ä¹ˆ? RecyclerView is a more advanced and flexible version of ListView. Thiswidget is a container for large sets of views that can be recycled andscrolled very efficiently. Use the RecyclerView widget when you havelists with elements that change dynamically. RecyclerViewæ˜¯ListViewçš„æ›´é«˜åº¦å®šåˆ¶ç‰ˆï¼Œå½“ä½ éœ€è¦é«˜æ•ˆçš„å±•ç¤ºå¤§é‡æ•°æ®æ—¶å€™ï¼ŒåŠ¨æ€æ”¹å˜å…ƒç´ çš„åˆ—è¡¨çš„æ—¶å€™ï¼Œå°±ç”¨è¿™ä¸ªã€‚ RecyclerViewæ˜¯support-v7åŒ…ä¸­æ–°ç»„ä»¶,å®˜æ–¹ä»‹ç»RecyclerView æ˜¯ ListView çš„å‡çº§ç‰ˆæœ¬ï¼Œæ›´åŠ å…ˆè¿›å’Œçµæ´»,æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ»‘åŠ¨ç»„ä»¶ï¼Œä¸ä¼ ç»Ÿçš„ListViewç›¸æ¯”è¾ƒï¼Œä»–åŒæ ·æ‹¥æœ‰itemå›æ”¶å¤ç”¨çš„åŠŸèƒ½ï¼Œä½†æ˜¯RecyclerViewå¯ä»¥ç›´æ¥æŠŠViewHolderçš„å®ç°å°è£…èµ·æ¥ï¼Œç”¨æˆ·åªè¦å®ç°è‡ªå·±çš„ViewHolerå°±å¯ä»¥äº†ã€‚RecyclerViewæ–°ç‰¹æ€§æœ‰ï¼šViewHolderï¼ŒItemDecoratorï¼ŒLayoutManagerï¼ŒSmothScrollerä»¥åŠå¢åŠ æˆ–åˆ é™¤itemæ—¶itemåŠ¨ç”»ã€‚","text":"RecyclerViewæ˜¯ä»€ä¹ˆ? RecyclerView is a more advanced and flexible version of ListView. Thiswidget is a container for large sets of views that can be recycled andscrolled very efficiently. Use the RecyclerView widget when you havelists with elements that change dynamically. RecyclerViewæ˜¯ListViewçš„æ›´é«˜åº¦å®šåˆ¶ç‰ˆï¼Œå½“ä½ éœ€è¦é«˜æ•ˆçš„å±•ç¤ºå¤§é‡æ•°æ®æ—¶å€™ï¼ŒåŠ¨æ€æ”¹å˜å…ƒç´ çš„åˆ—è¡¨çš„æ—¶å€™ï¼Œå°±ç”¨è¿™ä¸ªã€‚ RecyclerViewæ˜¯support-v7åŒ…ä¸­æ–°ç»„ä»¶,å®˜æ–¹ä»‹ç»RecyclerView æ˜¯ ListView çš„å‡çº§ç‰ˆæœ¬ï¼Œæ›´åŠ å…ˆè¿›å’Œçµæ´»,æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ»‘åŠ¨ç»„ä»¶ï¼Œä¸ä¼ ç»Ÿçš„ListViewç›¸æ¯”è¾ƒï¼Œä»–åŒæ ·æ‹¥æœ‰itemå›æ”¶å¤ç”¨çš„åŠŸèƒ½ï¼Œä½†æ˜¯RecyclerViewå¯ä»¥ç›´æ¥æŠŠViewHolderçš„å®ç°å°è£…èµ·æ¥ï¼Œç”¨æˆ·åªè¦å®ç°è‡ªå·±çš„ViewHolerå°±å¯ä»¥äº†ã€‚RecyclerViewæ–°ç‰¹æ€§æœ‰ï¼šViewHolderï¼ŒItemDecoratorï¼ŒLayoutManagerï¼ŒSmothScrollerä»¥åŠå¢åŠ æˆ–åˆ é™¤itemæ—¶itemåŠ¨ç”»ã€‚ RecyclerView ç”¨æ³•mRecyclerView = findViewById(R.id.recyclerview); //è®¾ç½®å¸ƒå±€ç®¡ç†å™¨ mRecyclerView.setLayoutManager(layout); //è®¾ç½®adapter mRecyclerView.setAdapter(adapter) //è®¾ç½®Itemå¢åŠ ã€ç§»é™¤åŠ¨ç”» mRecyclerView.setItemAnimator(new DefaultItemAnimator()); //æ·»åŠ åˆ†å‰²çº¿ mRecyclerView.addItemDecoration(new DividerItemDecoration( getActivity(), DividerItemDecoration.HORIZONTAL_LIST)); 1ã€å°† layout æŠ½è±¡æˆäº†ä¸€ä¸ª LayoutManagerï¼ŒRecylerView ä¸è´Ÿè´£å­ View çš„å¸ƒå±€ï¼Œ æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ LayoutManager æ¥å®ç°ä¸åŒçš„å¸ƒå±€æ•ˆæœï¼Œ ç›®å‰åªæä¾›äº†LinearLayoutManagerã€‚ LinearLayoutManager å¯ä»¥æŒ‡å®šæ–¹å‘ï¼Œé»˜è®¤æ˜¯å‚ç›´ï¼Œ å¯ä»¥æŒ‡å®šæ°´å¹³ç­‰ï¼Œèƒ½æ”¯æŒçº¿æ€§å¸ƒå±€ã€ç½‘æ ¼å¸ƒå±€ã€ç€‘å¸ƒæµå¸ƒå±€ä¸‰ç§ï¼Œè€Œä¸”åŒæ—¶è¿˜èƒ½å¤Ÿæ§åˆ¶æ¨ªå‘è¿˜æ˜¯çºµå‘æ»šåŠ¨ã€‚ 2ã€æ ‡å‡†åŒ–äº† ViewHolderï¼Œ ç¼–å†™ Adapter é¢å‘çš„æ˜¯ ViewHoder è€Œä¸åœ¨æ˜¯View äº†ï¼Œ å¤ç”¨çš„é€»è¾‘è¢«å°è£…äº†ï¼Œ å†™èµ·æ¥æ›´åŠ ç®€å•ã€‚3ã€å±€éƒ¨åˆ·æ–°4ã€åŠ¨ç”»æ•ˆæœï¼šå¢åŠ æˆ–åˆ é™¤itemæ—¶itemåŠ¨ç”» RecyclerView ç›¸å¯¹äºListViewçš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹1ã€å®ƒå°è£…äº†viewholderçš„å›æ”¶å¤ç”¨ã€‚RecyclerView.ViewHolder2ã€RecyclerViewä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨ç®¡ç†å­viewçš„ä½ç½®ï¼ˆç›®å‰å°šåªæä¾›äº†LinearLayoutManagerï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å†ä¸ç”¨æ‹˜æ³¥äºListViewçš„çº¿æ€§å±•ç¤ºæ–¹å¼ï¼Œå¦‚æœä¹‹åæä¾›å…¶ä»–customLayoutManagerçš„æ”¯æŒï¼Œä½ èƒ½å¤Ÿä½¿ç”¨å¤æ‚çš„å¸ƒå±€æ¥å±•ç¤ºä¸€ä¸ªåŠ¨æ€ç»„ä»¶ã€‚ StaggeredGridLayoutManager mStaggeredGridLayoutManager = new StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL); //è¡¨ç¤ºä¸¤åˆ—ï¼Œå¹¶ä¸”æ˜¯ç«–ç›´æ–¹å‘çš„ç€‘å¸ƒæµ mRecyclerView.setLayoutManager(mStaggeredGridLayoutManager); åœ¨å¸ƒå±€ä¸Šæ”¯æŒä¸‰ç§StaggeredGridLayoutManagerï¼Œ GridLayoutManager LinearLayoutManagerã€‚3ã€è‡ªå¸¦äº†ItemAnimationï¼Œå¯ä»¥è®¾ç½®åŠ è½½å’Œç§»é™¤æ—¶çš„åŠ¨ç”»ï¼Œæ–¹ä¾¿åšå‡ºå„ç§åŠ¨æ€æµè§ˆçš„æ•ˆæœã€‚4ã€å°†ListViewä¸­çš„getViewåˆ†æˆäº†onCreateViewHolderå’ŒonBindViewHolderä¸¤ä¸ªæ–¹æ³•ï¼Œæ›´åˆ©äºä»£ç çš„ç»´æŠ¤ã€‚5ã€ç›¸å¯¹ç®€å•æˆ‘ä»¬çœ‹ä¸‹Listviewä»–èƒŒåçš„ç»§æ‰¿å…³ç³» public class ListView extends AbsListView public abstract class AbsListView extends AdapterView&lt;ListAdapter&gt; public abstract class AdapterView&lt;T extends Adapter&gt; extends ViewGroup ä¸‰é‡ç»§æ‰¿ï¼Œå†…å®¹è¿˜æŒºå¤šçš„ï¼Œä¸æ˜¯ç›´æ¥ç»§æ‰¿ViewGroupï¼Œè€Œç›¸åçš„RecycleViewå´æ˜¯ç›´æ¥ç»§æ‰¿è‡ªViewGroupçš„ã€‚ ç¼ºç‚¹1ã€ä¸èƒ½ç®€å•çš„åŠ å¤´å’Œå°¾ã€‚2ã€ä¸èƒ½ç®€å•çš„è®¾ç½®å­itemçš„ç‚¹å‡»äº‹ä»¶ã€‚ è§£å†³æ–¹æ¡ˆï¼šè‡ªå®šä¹‰æ¥å£å®ç°ç‚¹å‡»äº‹ä»¶ã€‚ å…¶ä»–ListViewå¯ä»¥è®¾ç½®é€‰æ‹©æ¨¡å¼ï¼Œå¹¶æ·»åŠ MultiChoiceModeListener listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL); listView.setMultiChoiceModeListener(new MultiChoiceModeListener() &#123; public boolean onCreateActionMode(ActionMode mode, Menu menu) &#123; ... &#125; public void onItemCheckedStateChanged(ActionMode mode, int position, long id, boolean checked) &#123; ... &#125; public boolean onActionItemClicked(ActionMode mode, MenuItem item) &#123; switch (item.getItemId()) &#123; case R.id.menu_item_delete_crime: CrimeAdapter adapter = (CrimeAdapter)getListAdapter(); CrimeLab crimeLab = CrimeLab.get(getActivity()); for (int i = adapter.getCount() - 1; i &gt;= 0; i--) &#123; if (getListView().isItemChecked(i)) &#123; crimeLab.deleteCrime(adapter.getItem(i)); &#125; &#125; mode.finish(); adapter.notifyDataSetChanged(); return true; default: return false; &#125; public boolean onPrepareActionMode(ActionMode mode, Menu menu) &#123; ... &#125; public void onDestroyActionMode(ActionMode mode) &#123; ... &#125; &#125;); å‚è€ƒé“¾æ¥ï¼šhttp://blog.csdn.net/sanjay_f/article/details/48830311","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"åŸºç¡€","slug":"åŸºç¡€","permalink":"https://blog.musiclake.cn/tags/%E5%9F%BA%E7%A1%80/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"8-25","slug":"Android/sqlite","date":"2016-08-25T00:21:16.000Z","updated":"2022-05-05T09:56:06.444Z","comments":true,"path":"/post","link":"","permalink":"https://blog.musiclake.cn/post","excerpt":"å‰è¨€ æ„Ÿè§‰æ¯å¤©éƒ½è¿‡å¾—éå¸¸å¿«ï¼Œéƒ½æ²¡æœ‰è®¤çœŸæ€»ç»“æ‰€å­¦çš„ã€‚ä¿—è¯è¯´ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œæ‰€ä»¥æƒ³æ¯å¤©æŒ¤å‡ºä¸€ç‚¹æ—¶é—´æ¥å†™ç‚¹æ€»ç»“ã€‚","text":"å‰è¨€ æ„Ÿè§‰æ¯å¤©éƒ½è¿‡å¾—éå¸¸å¿«ï¼Œéƒ½æ²¡æœ‰è®¤çœŸæ€»ç»“æ‰€å­¦çš„ã€‚ä¿—è¯è¯´ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œæ‰€ä»¥æƒ³æ¯å¤©æŒ¤å‡ºä¸€ç‚¹æ—¶é—´æ¥å†™ç‚¹æ€»ç»“ã€‚ Android ä¸­çš„æ•°æ®åº“æ“ä½œå…¶å®æˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®è¿›è¡Œçš„æ“ä½œä¹Ÿå°±æ— éå››ç§ï¼Œå³ CRUDã€‚å…¶ä¸­ C ä»£è¡¨æ·»åŠ  ï¼ˆCreateï¼‰ï¼Œ Rä»£è¡¨æŸ¥è¯¢ï¼ˆRetrieveï¼‰ï¼Œ Uä»£è¡¨æ›´æ–°ï¼ˆUpdateï¼‰ï¼Œ Dä»£è¡¨åˆ é™¤ï¼ˆDeleteï¼‰ã€‚æ¯ä¸€ç§æ“ ä½œåˆå„è‡ªå¯¹åº”äº†ä¸€ç§ SQLå‘½ä»¤ï¼Œå¦‚æœä½ æ¯”è¾ƒç†Ÿæ‚‰ SQLè¯­è¨€çš„è¯ï¼Œä¸€å®šä¼šçŸ¥é“æ·»åŠ æ•°æ®æ—¶ä½¿ ç”¨ insertï¼ŒæŸ¥è¯¢æ•°æ®æ—¶ä½¿ç”¨ selectï¼Œæ›´æ–°æ•°æ®æ—¶ä½¿ç”¨ updateï¼Œåˆ é™¤æ•°æ®æ—¶ä½¿ç”¨ deleteã€‚ï¼ˆå¼•ç”¨ç¬¬ä¸€è¡Œä»£ç çš„ä¸€å¥è¯ï¼‰ä¸‹é¢æ˜¯ä»¥ä¸€ä¸ªç®€å•çš„æ•°æ®è¡¨ä¸ºä¾‹ã€‚music è¡¨| id | title | artist || :â€”-: | :â€”-: | :â€”: || 12345 | æ­Œå | æ­Œæ‰‹ || 12346 | æ­Œå | æ­Œæ‰‹ | æŸ¥è¯¢æ“ä½œquery()æ–¹æ³• query()æ–¹æ³•ç”¨äºå¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚è¿™ä¸ªæ–¹æ³•çš„å‚æ•°éå¸¸å¤æ‚ï¼Œæœ€çŸ­çš„ä¸€ä¸ªæ–¹æ³•é‡è½½ä¹Ÿéœ€è¦ä¼ å…¥ä¸ƒä¸ªå‚æ•°ã€‚é‚£æˆ‘ä»¬å°±å…ˆæ¥çœ‹ä¸€ä¸‹ è¿™ä¸ƒä¸ªå‚æ•°å„è‡ªçš„å«ä¹‰å§ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ç”¨è¯´ï¼Œå½“ç„¶è¿˜æ˜¯è¡¨åï¼Œè¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›ä»å“ªå¼ è¡¨ä¸­æŸ¥ è¯¢æ•°æ®ã€‚ç¬¬äºŒä¸ªå‚æ•°ç”¨äºæŒ‡å®šå»æŸ¥è¯¢å“ªå‡ åˆ—ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤æŸ¥è¯¢æ‰€æœ‰åˆ—ã€‚ç¬¬ä¸‰ã€ç¬¬å››ä¸ª å‚æ•°ç”¨äºå»çº¦æŸæŸ¥è¯¢æŸä¸€è¡Œæˆ–æŸå‡ è¡Œçš„æ•°æ®ï¼Œä¸æŒ‡å®šåˆ™é»˜è®¤æ˜¯æŸ¥è¯¢æ‰€æœ‰è¡Œçš„æ•°æ®ã€‚ç¬¬äº”ä¸ªå‚ æ•°ç”¨äºæŒ‡å®šéœ€è¦å» group byçš„åˆ—ï¼Œä¸æŒ‡å®šåˆ™è¡¨ç¤ºä¸å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œ group byæ“ä½œã€‚ç¬¬å…­ä¸ªå‚ æ•°ç”¨äºå¯¹ group byä¹‹åçš„æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥çš„è¿‡æ»¤ï¼Œä¸æŒ‡å®šåˆ™è¡¨ç¤ºä¸è¿›è¡Œè¿‡æ»¤ã€‚ç¬¬ä¸ƒä¸ªå‚æ•°ç”¨ äºæŒ‡å®šæŸ¥è¯¢ç»“æœçš„æ’åºæ–¹å¼ï¼Œä¸æŒ‡å®šåˆ™è¡¨ç¤ºä½¿ç”¨é»˜è®¤çš„æ’åºæ–¹å¼ã€‚ SQLiteDatabase db = dbHelper.getWritableDatabase(); // æŸ¥è¯¢musicè¡¨ä¸­æ‰€æœ‰çš„æ•°æ® Cursor cursor = db.query(&quot;music&quot;, null, null, null, null, null, null); //å†éå†æ¸¸æ ‡cursorï¼Œè·å–æ•°æ®åº“ä¸­çš„å€¼ if(cursor.moveToFirst()) &#123; ... &#125; queryå‚æ•°è¯¦æƒ… query()æ–¹æ³•å‚æ•° å¯¹åº” SQLéƒ¨åˆ† æè¿° table from table_name æŒ‡å®šæŸ¥è¯¢çš„è¡¨å columns select column1, column2 æŒ‡å®šæŸ¥è¯¢çš„åˆ—å selection where column = value æŒ‡å®š whereçš„çº¦æŸæ¡ä»¶ selectionArgs - ä¸º whereä¸­çš„å ä½ç¬¦æä¾›å…·ä½“çš„å€¼ group By group by column æŒ‡å®šéœ€è¦ group byçš„åˆ— having where column = value æŒ‡å®š whereçš„çº¦æŸæ¡ä»¶ order By having column = value å¯¹ group byåçš„ç»“æœè¿›ä¸€æ­¥çº¦æŸ select æŸ¥è¯¢è¯­å¥ä½¿ç”¨sqlè¯­å¥æŸ¥è¯¢ sql = &quot;select * from table_name&quot;; db.execSQL(sql); è¿‡æ»¤é‡å¤æ•°æ®select distinct â€œå­—æ®µåâ€ from â€œè¡¨åâ€ //æ–¹æ³•ä¸€ï¼š sql = &quot;select distinct title from music &quot;; db.execSQL(sql); æ’å…¥æ“ä½œinsert()æ–¹æ³•insert()æ–¹æ³•æ˜¯ä¸“é—¨ç”¨äºæ·»åŠ æ•°æ®ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨åï¼Œæˆ‘ä»¬å¸Œæœ›å‘å“ªå¼ è¡¨é‡Œæ·»åŠ æ•°æ®ï¼Œè¿™é‡Œå°±ä¼ å…¥è¯¥è¡¨çš„åå­—ã€‚ç¬¬äºŒä¸ª å‚æ•°ç”¨äºåœ¨æœªæŒ‡å®šæ·»åŠ æ•°æ®çš„æƒ…å†µä¸‹ç»™æŸäº›å¯ä¸ºç©ºçš„åˆ—è‡ªåŠ¨èµ‹å€¼ NULLï¼Œä¸€èˆ¬æˆ‘ä»¬ç”¨ä¸åˆ°è¿™ ä¸ªåŠŸèƒ½ï¼Œç›´æ¥ä¼ å…¥ nullå³å¯ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª ContentValueså¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ put() æ–¹æ³•é‡è½½ï¼Œç”¨äºå‘ ContentValues ä¸­æ·»åŠ æ•°æ®ã€‚ ContentValues values = new ContentValues(); // å¼€å§‹ç»„è£…ç¬¬ä¸€æ¡æ•°æ® values.put(&quot;title&quot;, &quot;æ­Œå1&quot;); values.put(&quot;artist&quot;, &quot;æ­Œæ‰‹1&quot;); db.insert(&quot;music&quot;, null, values); åˆ é™¤æ“ä½œdelete()æ–¹æ³•delete()æ–¹æ³•ä¸“é—¨ç”¨äºåˆ é™¤æ•°æ®ï¼Œè¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ ä¸ªå‚æ•°ä»ç„¶æ˜¯è¡¨åï¼Œè¿™ä¸ªå·²ç»æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œç¬¬äºŒã€ç¬¬ä¸‰ä¸ªå‚æ•°åˆæ˜¯ç”¨äºå»çº¦æŸåˆ é™¤æŸä¸€ è¡Œæˆ–æŸå‡ è¡Œçš„æ•°æ®ï¼Œä¸æŒ‡å®šçš„è¯é»˜è®¤å°±æ˜¯åˆ é™¤æ‰€æœ‰è¡Œã€‚ db.delete(&quot;music&quot;, &quot;title = ?&quot;, new String[] &#123; &quot;æ­Œå&quot; &#125;); ä¿®æ”¹æ“ä½œupdate()æ–¹æ³• update()æ–¹æ³•ç”¨äºå¯¹æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œè¿™ä¸ªæ–¹æ³• æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å’Œ insert()æ–¹æ³•ä¸€æ ·ï¼Œä¹Ÿæ˜¯è¡¨åï¼Œåœ¨è¿™é‡ŒæŒ‡å®šå»æ›´æ–°å“ªå¼ è¡¨é‡Œçš„æ•° æ®ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ ContentValues å¯¹è±¡ï¼Œè¦æŠŠæ›´æ–°æ•°æ®åœ¨è¿™é‡Œç»„è£…è¿›å»ã€‚ç¬¬ä¸‰ã€ç¬¬å››ä¸ªå‚æ•° ç”¨äºå»çº¦æŸæ›´æ–°æŸä¸€è¡Œæˆ–æŸå‡ è¡Œä¸­çš„æ•°æ®ï¼Œä¸æŒ‡å®šçš„è¯é»˜è®¤å°±æ˜¯æ›´æ–°æ‰€æœ‰è¡Œã€‚ values.put(&quot;artist&quot;,&quot;æ­Œæ‰‹2&quot;); db.update(&quot;music&quot;, values, &quot;id = ?&quot;, new String[] &#123; &quot;12345&quot; &#125;); åè®°è™½ç„¶ç°åœ¨æœ‰äº›æµè¡Œå¼€æºçš„sqlæ¡†æ¶ï¼Œä½†åŸºç¡€çš„sqlè¿˜æ˜¯éœ€è¦çš„ã€‚æŒç»­æ›´æ–°ä¸­â€¦","categories":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}],"tags":[{"name":"åŸºç¡€","slug":"åŸºç¡€","permalink":"https://blog.musiclake.cn/tags/%E5%9F%BA%E7%A1%80/"}],"keywords":[{"name":"Android","slug":"Android","permalink":"https://blog.musiclake.cn/categories/Android/"}]},{"title":"éŸ³ä¹æ¥å£","slug":"api/music","date":"2016-08-25T00:21:16.000Z","updated":"2022-05-05T09:56:06.445Z","comments":true,"path":"posts/28ffda2f.html","link":"","permalink":"https://blog.musiclake.cn/posts/28ffda2f.html","excerpt":"","text":"æœ‰ç‚¹æƒ³æ€»ç»“ä¸€ä¸‹éŸ³ä¹æ¥å£ï¼Œ æ­Œæ›²æ¥æºï¼šç™¾åº¦éŸ³ä¹è¯¦æƒ…è¯·è®¿é—®åŸæ–‡http://blog.csdn.net/xyw_blog/article/details/38641793?utm_source=tuicool&amp;utm_medium=referral è·å–ç™¾åº¦éŸ³ä¹æ’è¡Œæ¦œçš„æ•°æ®http://musicapi.qianqian.com/v1/restserver/ting?from=android&amp;version=6.0.7.1&amp;channel=huwei&amp;operator=1&amp;method=baidu.ting.billboard.billCategory&amp;format=json&amp;kflag=2 è·å–é¢‘é“åˆ—è¡¨æ•°æ®http://fm.baidu.com/dev/api/?tn=channellistæ ¹æ®é¢‘é“idè·å–é¢‘é“éŸ³ä¹æ•°æ®åˆ—è¡¨ä¿¡æ¯http://fm.baidu.com/dev/api/?tn=playlist&amp;id=public_tuijian_regeæ ¹æ®songIdsè·å–æ­Œæ›²ä¿¡æ¯ï¼Œå¦‚æœè¦è·å–å¤šé¦–ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ­Œæ›²ä¸‹è½½é“¾æ¥åœ°å€ï¼ŒsongIdsä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œå¦‚songIds = 913288,872633,3388338http://fm.baidu.com/data/music/songlink?songIds=913288æ ¹æ®songIdsè·å–æ­Œæ›²ä¿¡æ¯ï¼Œå¦‚æœè¦è·å–å¤šé¦–ä¿¡æ¯ï¼ŒsongIdsä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œå¦‚songIds = 913288,872633,3388338 http://fm.baidu.com/data/music/songinfo?songIds=913288 æ­Œæ›²æ¥æºï¼šQQéŸ³ä¹æ¥æºäºgithub å¼€æºåº“MusicAPI æ­Œæ›²æ¥æºï¼šè™¾ç±³éŸ³ä¹æ¥æºäºgithub å¼€æºåº“MusicAPI æ­Œæ›²æ¥æºï¼šç½‘æ˜“äº‘éŸ³ä¹æ¥æºäºgithub å¼€æºåº“NeteaseCloudMusicApi å¤‡æ³¨å› ä¸ºè¿™äº›éŸ³ä¹æ¥å£éƒ½æ˜¯åŠ å¯†çš„ï¼Œè€Œè¿™äº›å¼€æºåº“æ˜¯ä½¿ç”¨pyæˆ–è€…jsçš„ä¸€äº›è§£å¯†ç®—æ³•è§£å¯†ï¼Œæ‰€æœ‰å¹¶ä¸èƒ½ç›´æ¥è°ƒç”¨è¿™äº›éŸ³ä¹æ¥å£ï¼Œè¿˜å¾—è§£å¯†ã€‚ è®¡åˆ’kotlinè§£æéŸ³ä¹APIï¼Œç”Ÿæˆä¸€ä¸ªåº“æ–‡ä»¶","categories":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}],"tags":[{"name":"api","slug":"api","permalink":"https://blog.musiclake.cn/tags/api/"}],"keywords":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}]},{"title":"çˆ±å£çº¸éŸ³ä¹api","slug":"api/wallpaper","date":"2016-08-25T00:21:16.000Z","updated":"2022-05-05T09:56:06.446Z","comments":true,"path":"posts/f296039d.html","link":"","permalink":"https://blog.musiclake.cn/posts/f296039d.html","excerpt":"","text":"å‰è¨€é€šè¿‡fildderæŠ“å–çˆ±å£çº¸appçš„å›¾ç‰‡æ¥å£ limit:10 //å£çº¸æ•°é‡, order:hot //æ’åºæ–¹å¼ skip:1 //åç§»é‡ //å‚æ•°é›†åˆ var map: Map&lt;String, Any&gt; = mapOf(&quot;limit&quot; to limit, &quot;skip&quot; to skip, &quot;order&quot; to order, &quot;adult&quot; to &quot;false&quot;, &quot;first&quot; to &quot;0&quot;) ä¸»é¡µè·å–å£çº¸å›¾ç‰‡ GETæ–¹å¼è·å–http://service.aibizhi.adesk.com/v3/homepage ä¾‹å¦‚ï¼šhttp://service.aibizhi.adesk.com/v3/homepage?limit=30&amp;adult=false&amp;did=867919026491418&amp;first=1&amp;order=hot æœ€æ–°http://service.aibizhi.adesk.com/v1/vertical/vertical?limit=30&amp;adult=false&amp;first=1&amp;order=new albumhttp://service.aibizhi.adesk.com/v1/wallpaper/album/50b2e4de0a2ae035e5d7139b/wallpaper?limit=30&amp;adult=false&amp;first=1&amp;order=new çƒ­é—¨http://service.aibizhi.adesk.com/v3/wallpaper?limit=30&amp;adult=false&amp;first=1&amp;order=hot åˆ†ç±»http://service.aibizhi.adesk.com/v1/wallpaper/category?adult=false&amp;first=1 http://service.aibizhi.adesk.com/v1/vertical/category/4e4d610cdf714d2966000000/vertical?limit=10&amp;adult=false&amp;first=1&amp;order=new è¿”å›çš„æ•°æ®ç±»å‹å¦‚ä¸‹ &#123; &quot;msg&quot;: &quot;success&quot;, &quot;res&quot;: &#123; &quot;ads&quot;: [], &quot;vertical&quot;: [ &#123; &quot;views&quot;: 0, &quot;ncos&quot;: 0, &quot;rank&quot;: 6, &quot;tag&quot;: [], &quot;wp&quot;: &quot;http://img.aibizhi.adesk.com/5acb3d44e7bce73542df002d&quot;, &quot;xr&quot;: false, &quot;cr&quot;: false, &quot;favs&quot;: 6, &quot;atime&quot;: 1524575403, &quot;id&quot;: &quot;5acb3d44e7bce73542df002d&quot;, &quot;desc&quot;: &quot;&quot;, &quot;thumb&quot;: &quot;http://img.aibizhi.adesk.com/5acb3d44e7bce73542df002d?imageMogr2/thumbnail/!350x540r/gravity/Center/crop/350x540&quot;, &quot;img&quot;: &quot;http://img.aibizhi.adesk.com/5acb3d44e7bce73542df002d?imageMogr2/thumbnail/!720x1280r/gravity/Center/crop/720x1280&quot;, &quot;cid&quot;: [ &quot;4e4d610cdf714d2966000002&quot; ], &quot;url&quot;: [], &quot;rule&quot;: &quot;?imageMogr2/thumbnail/!$&lt;Width&gt;x$&lt;Height&gt;r/gravity/Center/crop/$&lt;Width&gt;x$&lt;Height&gt;&quot;, &quot;preview&quot;: &quot;http://img.aibizhi.adesk.com/5acb3d44e7bce73542df002d&quot;, &quot;store&quot;: &quot;qiniu&quot; &#125; ] &#125;, &quot;code&quot;: 0 &#125; å…·ä½“å®ç°æ•ˆæœè§WallpaperAPP","categories":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}],"tags":[{"name":"api","slug":"api","permalink":"https://blog.musiclake.cn/tags/api/"}],"keywords":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}]},{"title":"Youtube api","slug":"api/youtubu","date":"2016-08-25T00:21:16.000Z","updated":"2022-05-05T09:56:06.446Z","comments":true,"path":"posts/827e1383.html","link":"","permalink":"https://blog.musiclake.cn/posts/827e1383.html","excerpt":"","text":"YouTube Data API åˆ†ææœ€è¿‘åœ¨å¯¹Youtubeçš„å¼€æ”¾apiè¿›è¡Œä¸€äº›è°ƒç ”å’Œåˆ†æï¼Œä¸ºäº†æœ‰äº†ä¸ªæ›´æ·±çš„å°è±¡ï¼Œæ‰€ä»¥æ€»ç»“ä¸€ä¸‹ï¼Œå†™å¾—ä¸å¥½ï¼Œæ¬¢è¿æŒ‡æ­£ï¼ å¯¹äºè·å–æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ è‡ªå·±æ‹¼æ¥è¯·æ±‚åœ°å€ï¼Œç„¶åè¯·æ±‚æ•°æ®ï¼Œ ä½¿ç”¨å®˜æ–¹çš„jarï¼Œæ¥å®ç°å‚è€ƒæ–‡æ¡£","categories":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}],"tags":[{"name":"api","slug":"api","permalink":"https://blog.musiclake.cn/tags/api/"}],"keywords":[{"name":"æ¥å£","slug":"æ¥å£","permalink":"https://blog.musiclake.cn/categories/%E6%8E%A5%E5%8F%A3/"}]},{"title":"hexoå¸¸ç”¨å‘½ä»¤","slug":"tools/hexo","date":"2016-05-29T05:49:34.000Z","updated":"2022-05-05T09:56:06.448Z","comments":true,"path":"posts/33f59116.html","link":"","permalink":"https://blog.musiclake.cn/posts/33f59116.html","excerpt":"","text":"hexoå¸¸ç”¨å‘½ä»¤ä½¿ç”¨hexo+githubæ­å»ºå±äºè‡ªå·±çš„åšå®¢ 1ã€æ–°å»ºhexo new &quot;my blog&quot; hexo n &quot;my blog&quot; #ç¼©å†™ æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼Œæ–‡ç« æ ‡é¢˜å¦‚æœå­˜åœ¨ç©ºæ ¼ï¼Œéœ€è¦ä½¿ç”¨åŒå¼•å·,æ–°å»ºçš„æ–‡ä»¶åœ¨ hexo/source/_posts/my-blog.md 2ã€ç¼–è¯‘hexo generate hexo g #ç¼©å†™ ä¸€èˆ¬éƒ¨ç½²ä¸Šå»çš„æ—¶å€™éƒ½éœ€è¦ç¼–è¯‘ä¸€ä¸‹ï¼Œç¼–è¯‘åï¼Œä¼šå‡ºç°ä¸€ä¸ª public æ–‡ä»¶å¤¹ï¼Œå°†æ‰€æœ‰çš„mdæ–‡ä»¶ç¼–è¯‘æˆhtmlæ–‡ä»¶ 3ã€å¼€å¯æœ¬åœ°æœåŠ¡hexo server hexo s #ç¼©å†™ å¼€å¯æœ¬åœ°hexoæœåŠ¡,è®¿é—® localhost:4000 4ã€éƒ¨ç½²hexo deploy hexo d #ç¼©å†™ éƒ¨ç½²åˆ°gitä¸Šçš„æ—¶å€™ï¼Œéœ€è¦ç”¨è¿™ä¸ªå‘½ä»¤ 5ã€æ¸…é™¤hexo clean hexo c #ç¼©å†™ å½“ source æ–‡ä»¶å¤¹ä¸­çš„éƒ¨åˆ†èµ„æºæ›´æ”¹è¿‡ä¹‹åï¼Œç‰¹åˆ«æ˜¯å¯¹æ–‡ä»¶è¿›è¡Œäº†åˆ é™¤æˆ–è€…è·¯å¾„çš„æ”¹å˜ä¹‹åï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œç„¶åé‡æ–°ç¼–è¯‘ã€‚ 6ã€å¸¸ç”¨æ€»ç»“hexo n #å†™æ–‡ç«  hexo g #ç”Ÿæˆ hexo s #å¼€å¯æœ¬åœ°æœåŠ¡ hexo d #éƒ¨ç½² #å¯ä¸hexo gåˆå¹¶ä¸º hexo d -g ä»¥ä¸Šéƒ½æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œå‘½ä»¤è¯¦ç»†è¯·è®¿é—®å®˜ç½‘ indigoæ ·å¼ä¿®æ”¹ä¿®æ”¹æ–‡ç« é¡µé¢å¡ç‰‡å®½ å°† contentWidthçš„åŸå§‹å€¼960pxæ”¹ä¸º90% ../themes/indigo/source/css/_partial/variable.less","categories":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://blog.musiclake.cn/categories/%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://blog.musiclake.cn/tags/hexo/"}],"keywords":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://blog.musiclake.cn/categories/%E5%8D%9A%E5%AE%A2/"}]}]}